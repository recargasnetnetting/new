var clientId;const isProd=!0,pyVisorApiPrd="p9gymks1pg",tarjetizacionColApiPrd="uoc9e528ik",credijamarApiPrd="59o1es3b63",appVendedorOrderApiPrd="gm36tm91y3",documentosApiPrd="y1eas8u0ec",creacionOpApiPrd="w09h2v77m5",precalificacionApiPrd="gv3rdv4ry3",pyVisorApiDev="um8arzxrdk",tarjetizacionColApiDev="9fvjlg31df",credijamarApiDev="uzv9iixunb",appVendedorOrderApiDev="l04wzzd9ra",documentosApiDev="anma7dvp8d",creacionOpApiDev="1x7ygdc604",precalificacionApiDev="pldlu4qgt8",schema="https://",awsApi=".execute-api.us-east-1.amazonaws.com/api/v1",awsDevApi=".execute-api.us-east-1.amazonaws.com/dev/v1",awsPrdApi=".execute-api.us-east-1.amazonaws.com/prd/v1",usuarioApi="TJWEB",programaApi="TARJPN",Endpoint={pyVisorApi:schema+pyVisorApiPrd+awsPrdApi,tarjetizacionColApi:schema+tarjetizacionColApiPrd+awsApi,credijamarApi:schema+credijamarApiPrd+awsApi,appVendedorOrderApi:schema+appVendedorOrderApiPrd+awsApi,precalificacionApi:schema+precalificacionApiPrd+awsApi,documentosApi:schema+documentosApiPrd+awsPrdApi,creacionOpApi:schema+creacionOpApiPrd+awsPrdApi};function validateCreditCar(){let storage=JSON.parse(localStorage.getItem("crdCar"));storage!=null&&(storage.length==0?($("#list-producto-credits").html(" "),$("#sectionCarritos").addClass("d-block")):($("#list-producto-credits").removeClass("d-null"),$("#list-producto-credits").addClass("displayBock")))}function showSucces(){sessionStorage.setItem("modalUnico","listo"),Swal.fire({html:'<div id="succesForm"></div>',heightAuto:!1,showConfirmButton:!1,showDenyButton:!1,padding:"0rem",customClass:{htmlContainer:"m-0",popup:"popUpLlamamos"},showCloseButton:!0});const template=$("#succesInfoForm").html();$("#succesForm").append(template),$("#succesForm .modalsuccesform").addClass("d-block")}const showModalForms=()=>{const sectionValis=document.getElementById("teLlamamos");if(document.getElementById("muebles-y-colchones-para-tu-hogar")!=null&&sectionValis!=null&&sessionStorage.getItem("modalUnico")==null){sessionStorage.setItem("modalUnico","listo"),Swal.fire({html:'<div id="contenModalForm"></div>',heightAuto:!1,showConfirmButton:!1,showDenyButton:!1,padding:"0rem",customClass:{htmlContainer:"m-0",popup:"popUpLlamamos"},showCloseButton:!0});const template=$("#teLlamamos").html();$("#contenModalForm").append(template),$("#contenModalForm .modalTeLLamamos").addClass("d-block"),$(".btn-formulario-popup").click(e=>{let dataSalesForceWebToLead={apellidos:$("#contenModalForm .nombreFormPop").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#contenModalForm .emailFormPop").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Formulario-popup-home"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{$(".formsavetellamamos").submit()}).catch(error=>{console.log("error al guardar -> ",error)})})}};$('ul.mobile-navigation__sub-nav li[data-title="asesor\xEDa"]').css("display","none"),$('ul.mobile-navigation__sub-nav li[data-title="tour virtual"]').css("display","none"),$("ul.footer-indice-servicio-cliente li.footer-indice-servicio-cliente:nth-child(9)").css("display","none");const addImagesInCollection=()=>{$("#estilos .navigation-submenu .navigation-submenu__container").append(`<div class="img-menu-estilos">
           <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/jamar-menu-estilos.png?v=1636587795" />
      <div>`),$("#colecciones .navigation-submenu .navigation-submenu__container").append(`<div class="img-menu-colecciones">
  		<img class="img-submenu-colecciones" src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/coleccion-header.webp" />
  	<div>`)};$(".header-section-one .listMenu li.item-menus:nth-child(1) a").attr("target","_blank"),$(".header-section-one .listMenu li.item-menus:nth-child(2) a").attr("target","_blank");function showMenus(e){e==1?$(".oneShow").hasClass("d-block")==!1?$(".oneShow").addClass("d-block"):$(".oneShow").removeClass("d-block"):e==2&&($(".twoShow").hasClass("d-block")==!1?$(".twoShow").addClass("d-block"):$(".twoShow").removeClass("d-block"))}function changesRegionsHeader(data){data=="panama"&&window.open("https://www.jamar.com.pa","_blank")}$(window).width()<=768&&$("#mobilesITems").remove(),$("#acordeon-estilos").click(function(){$(".acordeon .bloque .h2 img").removeClass("vec-flecha-acor"),$(".acordeon .bloque.pestania-activa .h2 img").addClass("vec-flecha-acor")}),$("#acordeon-servicios").click(function(){$(".acordeon .bloque .h2.titulo-preguntas-frecuentes img").removeClass("vec-flecha-acor"),$(".acordeon .bloque.pestania-activa .h2.titulo-preguntas-frecuentes img").addClass("vec-flecha-acor")}),$("#acordeon-servicios-8").click(function(){$(".acordeon .bloque .h2.titulo-preguntas-frecuentes img").removeClass("vec-flecha-acor"),$(".acordeon .bloque.pestania-activa .h2.titulo-preguntas-frecuentes img").addClass("vec-flecha-acor")});const bloque=document.querySelectorAll(".bloque"),h2=document.querySelectorAll(".h2");h2.forEach((cadaH2,i)=>{h2[i].addEventListener("click",()=>{bloque.forEach((cadaBloque,i2)=>{bloque[i2].classList.remove("pestania-activa")}),bloque[i].classList.add("pestania-activa")})});var dateCalendarSelect="",idAsesorias="3xassuir58";let urlAsesoriasPer=window.location.pathname;urlAsesoriasPer=="/pages/asesoria-personalizada-jamar"&&consultarCiudad(),$("#atlantico").click(function(){$("#catalogoAtlantico").removeClass("d-none"),$("#atlantico").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #cundinamarca, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#antioquia").click(function(){$("#catalogoAntioquia").removeClass("d-none"),$("#antioquia").addClass("catActive"),$("#atlantico, #bolivar, #cesar, #cordoba, #cundinamarca, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAtlantico, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#bolivar").click(function(){$("#catalogoBolivar").removeClass("d-none"),$("#bolivar").addClass("catActive"),$("#antioquia, #atlantico, #cesar, #cordoba, #cundinamarca, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoAtlantico, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#cesar").click(function(){$("#catalogoCesar").removeClass("d-none"),$("#cesar").addClass("catActive"),$("#antioquia, #bolivar, #atlantico, #cordoba, #cundinamarca, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoAtlantico, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#cordoba").click(function(){$("#catalogoCordoba").removeClass("d-none"),$("#cordoba").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #atlantico, #cundinamarca, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoAtlantico, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#cundinamarca").click(function(){$("#catalogoCundinamarca").removeClass("d-none"),$("#cundinamarca").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #atlantico, #guajira, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoAtlantico, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#guajira").click(function(){$("#catalogoGuajira").removeClass("d-none"),$("#guajira").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #cundinamarca, #atlantico, #magdalena, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoAtlantico, #catalogoMagdalena, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#magdalena").click(function(){$("#catalogoMagdalena").removeClass("d-none"),$("#magdalena").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #cundinamarca, #guajira, #atlantico, #santander, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoAtlantico, #catalogoSantander, #catalogoSucre").addClass("d-none")}),$("#santander").click(function(){$("#catalogoSantander").removeClass("d-none"),$("#santander").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #cundinamarca, #guajira, #magdalena, #atlantico, #sucre").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoAtlantico, #catalogoSucre").addClass("d-none")}),$("#sucre").click(function(){$("#catalogoSucre").removeClass("d-none"),$("#sucre").addClass("catActive"),$("#antioquia, #bolivar, #cesar, #cordoba, #cundinamarca, #guajira, #magdalena, #santander, #atlantico").removeClass("catActive"),$("#catalogoAntioquia, #catalogoBolivar, #catalogoCesar, #catalogoCordoba, #catalogoCundinamarca, #catalogoGuajira, #catalogoMagdalena, #catalogoSantander, #catalogoAtlantico").addClass("d-none")}),$("#atlanticoMobile").click(function(){$("#catalogoAtlanticoMobile").removeClass("d-none"),$("#atlanticoMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#antioquiaMobile").click(function(){$("#catalogoAntioquiaMobile").removeClass("d-none"),$("#antioquiaMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#atlanticoMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAtlanticoMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#bolivarMobile").click(function(){$("#catalogoBolivarMobile").removeClass("d-none"),$("#bolivarMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #atlanticoMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoAtlanticoMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#cesarMobile").click(function(){$("#catalogoCesarMobile").removeClass("d-none"),$("#cesarMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #atlanticoMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoAtlanticoMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#cordobaMobile").click(function(){$("#catalogoCordobaMobile").removeClass("d-none"),$("#cordobaMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #atlanticoMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoAtlanticoMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#cundinamarcaMobile").click(function(){$("#catalogoCundinamarcaMobile").removeClass("d-none"),$("#cundinamarcaMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #atlanticoMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoAtlanticoMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#guajiraMobile").click(function(){$("#catalogoGuajiraMobile").removeClass("d-none"),$("#guajiraMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #atlanticoMobile, #magdalenaMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoAtlanticoMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#magdalenaMobile").click(function(){$("#catalogoMagdalenaMobile").removeClass("d-none"),$("#magdalenaMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #atlanticoMobile, #santanderMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoAtlanticoMobile, #catalogoSantanderMobile, #catalogoSucreMobile").addClass("d-none")}),$("#santanderMobile").click(function(){$("#catalogoSantanderMobile").removeClass("d-none"),$("#santanderMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #atlanticoMobile, #sucreMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoAtlanticoMobile, #catalogoSucreMobile").addClass("d-none")}),$("#sucreMobile").click(function(){$("#catalogoSucreMobile").removeClass("d-none"),$("#sucreMobile").addClass("catActive"),$([document.documentElement,document.body]).animate({scrollTop:$("#catalogoScroll").offset().top},2e3),$("#antioquiaMobile, #bolivarMobile, #cesarMobile, #cordobaMobile, #cundinamarcaMobile, #guajiraMobile, #magdalenaMobile, #santanderMobile, #atlanticoMobile").removeClass("catActive"),$("#catalogoAntioquiaMobile, #catalogoBolivarMobile, #catalogoCesarMobile, #catalogoCordobaMobile, #catalogoCundinamarcaMobile, #catalogoGuajiraMobile, #catalogoMagdalenaMobile, #catalogoSantanderMobile, #catalogoAtlanticoMobile").addClass("d-none")});var cantidadPages=0;$("#nextPagect").click(function(){cantidadPages=cantidadPages<=-17760?-17760:cantidadPages+-740,$("#caja-paginas").animate({left:cantidadPages})}),$("#prevPagect").click(function(){cantidadPages=cantidadPages>=0?0:cantidadPages+740,$("#caja-paginas").animate({left:cantidadPages})}),$("#verMas").click(function(){$("#modalCart").css("display","none")}),$("#ctPortada, #portadaCt").click(function(){$("#caja-paginas").animate({left:15})}),$("#ctpage0102, #ctPage0102").click(function(){$("#caja-paginas").animate({left:-727})}),$("#ctpage0304, #ctPage0304").click(function(){$("#caja-paginas").animate({left:-1479})}),$("#ctpage0506").click(function(){$("#caja-paginas").animate({left:-2221})}),$("#ctpage0708").click(function(){$("#caja-paginas").animate({left:-2959})}),$("#ctpage0910").click(function(){$("#caja-paginas").animate({left:-3699})}),$("#ctpage1112, #ctPage1112").click(function(){$("#caja-paginas").animate({left:-4439})}),$("#ctpage1314, #ctPage1314").click(function(){$("#caja-paginas").animate({left:-5179})}),$("#ctpage1516").click(function(){$("#caja-paginas").animate({left:-5919})}),$("#ctpage1718").click(function(){$("#caja-paginas").animate({left:-6659})}),$("#ctpage1920").click(function(){$("#caja-paginas").animate({left:-7399})}),$("#ctpage2122, #ctPage2122").click(function(){$("#caja-paginas").animate({left:-8139})}),$("#ctpage2324, #ctPage2324").click(function(){$("#caja-paginas").animate({left:-8879})}),$("#ctpage2526").click(function(){$("#caja-paginas").animate({left:-9619})}),$("#ctpage2728").click(function(){$("#caja-paginas").animate({left:-10359})}),$("#ctpage2930").click(function(){$("#caja-paginas").animate({left:-11099})}),$("#ctpage3132").click(function(){$("#caja-paginas").animate({left:-11839})}),$("#ctpage3334, #ctPage3334").click(function(){$("#caja-paginas").animate({left:-12579})}),$("#ctpage3536, #ctPage3536, #ctPage3637").click(function(){$("#caja-paginas").animate({left:-13319})}),$("#ctpage3738").click(function(){$("#caja-paginas").animate({left:-14059})}),$("#ctpage3940").click(function(){$("#caja-paginas").animate({left:-14799})}),$("#ctpage4142, #ctPage4142").click(function(){$("#caja-paginas").animate({left:-15539})}),$("#ctpage4344, #ctPage4344").click(function(){$("#caja-paginas").animate({left:-16279})}),$("#ctpage4546").click(function(){$("#caja-paginas").animate({left:-17019})}),$("#contraportadaCt").click(function(){$("#caja-paginas").animate({left:-17759})}),$("#shareCt, #shareCt2").click(()=>{$("#compartirRedesCt").removeClass("d-none")}),$("#closeRedesCt").click(()=>{$("#compartirRedesCt").addClass("d-none")}),$("#btnMenuCatalogo").click(()=>{$("#menuPrincipalcatalogo").removeClass("d-none")}),$("#ClosemenuPrincipalcatalogo").click(()=>{$("#menuPrincipalcatalogo").addClass("d-none")}),$("#btnMenudestacado").click(()=>{$("#menuDestacadoscatalogo").removeClass("d-none")}),$("#ClosemenuDestacadocatalogo").click(()=>{$("#menuPrincipalcatalogo").addClass("d-none"),$("#menuDestacadoscatalogo").addClass("d-none")}),$("#btnVerxpagina").click(()=>{$("#menuVerxpagina").removeClass("d-none")}),$("#ClosemenuVerxpagina").click(()=>{$("#menuPrincipalcatalogo").addClass("d-none"),$("#menuDestacadoscatalogo").addClass("d-none"),$("#menuVerxpagina").addClass("d-none")});var cantidadPagesMobile=-370;$("#nextPagectMobile").click(function(){cantidadPagesMobile=cantidadPagesMobile+-370,$("#caja-paginasMobile").animate({left:cantidadPagesMobile})}),$("#prevPagectMobile").click(function(){cantidadPagesMobile=cantidadPagesMobile+370,$("#caja-paginasMobile").animate({left:cantidadPagesMobile})}),$("#ctPortadaMobile, #portadaCtMobile").click(function(){$("#caja-paginasMobile").animate({left:15})}),$("#ctpage0102Mobile, #ctPage0102Mobile").click(function(){$("#caja-paginasMobile").animate({left:-727})}),$("#ctpage0304Mobile, #ctPage0304Mobile").click(function(){$("#caja-paginasMobile").animate({left:-1479})}),$("#ctpage0506Mobile").click(function(){$("#caja-paginasMobile").animate({left:-2221})}),$("#ctpage0708Mobile").click(function(){$("#caja-paginasMobile").animate({left:-2959})}),$("#ctpage0910Mobile").click(function(){$("#caja-paginasMobile").animate({left:-3699})}),$("#ctpage1112Mobile, #ctPage1112Mobile").click(function(){$("#caja-paginasMobile").animate({left:-4439})}),$("#ctpage1314Mobile, #ctPage1314Mobile").click(function(){$("#caja-paginasMobile").animate({left:-5179})}),$("#ctpage1516Mobile").click(function(){$("#caja-paginasMobile").animate({left:-5919})}),$("#ctpage1718Mobile").click(function(){$("#caja-paginasMobile").animate({left:-6659})}),$("#ctpage1920Mobile").click(function(){$("#caja-paginasMobile").animate({left:-7399})}),$("#ctpage2122Mobile, #ctPage2122Mobile").click(function(){$("#caja-paginasMobile").animate({left:-8139})}),$("#ctpage2324Mobile, #ctPage2324Mobile").click(function(){$("#caja-paginasMobile").animate({left:-8879})}),$("#ctpage2526Mobile").click(function(){$("#caja-paginasMobile").animate({left:-9619})}),$("#ctpage2728Mobile").click(function(){$("#caja-paginasMobile").animate({left:-10359})}),$("#ctpage2930Mobile").click(function(){$("#caja-paginasMobile").animate({left:-11099})}),$("#ctpage3132Mobile").click(function(){$("#caja-paginasMobile").animate({left:-11839})}),$("#ctpage3334Mobile, #ctPage3334Mobile").click(function(){$("#caja-paginasMobile").animate({left:-12579})}),$("#ctpage3536Mobile, #ctPage3536Mobile, #ctPage3637Mobile").click(function(){$("#caja-paginasMobile").animate({left:-13319})}),$("#ctpage3738Mobile").click(function(){$("#caja-paginasMobile").animate({left:-14059})}),$("#ctpage3940Mobile").click(function(){$("#caja-paginasMobile").animate({left:-14799})}),$("#ctpage4142Mobile, #ctPage4142Mobile").click(function(){$("#caja-paginasMobile").animate({left:-15539})}),$("#ctpage4344Mobile, #ctPage4344Mobile").click(function(){$("#caja-paginasMobile").animate({left:-16279})}),$("#ctpage4546Mobile").click(function(){$("#caja-paginasMobile").animate({left:-17019})}),$("#contraportadaCtMobile").click(function(){$("#caja-paginasMobile").animate({left:-17759})}),$("#shareCtMobile, #shareCt2Mobile").click(()=>{$("#compartirRedesCtMobile").removeClass("d-none"),$("#menuPrincipalcatalogoMobile").addClass("d-none")}),$("#closeRedesCtMobile").click(()=>{$("#compartirRedesCtMobile").addClass("d-none")}),$("#btnMenuCatalogoMobile").click(()=>{$("#menuPrincipalcatalogoMobile").removeClass("d-none")}),$("#ClosemenuPrincipalcatalogoMobile").click(()=>{$("#menuPrincipalcatalogoMobile").addClass("d-none")}),$("#btnMenudestacadoMobile").click(()=>{$("#menuDestacadoscatalogoMobile").removeClass("d-none")}),$("#ClosemenuDestacadocatalogoMobile").click(()=>{$("#menuPrincipalcatalogoMobile").addClass("d-none"),$("#menuDestacadoscatalogoMobile").addClass("d-none")}),$("#btnVerxpaginaMobile").click(()=>{$("#menuVerxpaginaMobile").removeClass("d-none")}),$("#ClosemenuVerxpaginaMobile").click(()=>{$("#menuPrincipalcatalogoMobile").addClass("d-none"),$("#menuDestacadoscatalogoMobile").addClass("d-none"),$("#menuVerxpaginaMobile").addClass("d-none")});const filtrosCochones={tamano:[{id:"sencillo",name:"",value:['"Sencillo 1.00"','"Sencillo 0.90"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/sencillo.svg?v=1635609948"},{id:"semidoble",name:"",value:['"Semi doble 1.20"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/semidoble.svg?v=1635610000"},{id:"doble",name:"",value:['"Doble 1.40"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/doble.svg?v=1635610050"},{id:"queen",name:"",value:['"Queen 1.60"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/queen.svg?v=1635610084"},{id:"king",name:"",value:['"King 2.00 x 2.00"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/king.svg?v=1635610084"}],confort:[{id:"firme",name:"",value:['"Firme"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/suavidad-firme.png?v=1625146680"},{id:"medio",name:"",value:['"Medio"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/suavidad-medio.png?v=1625148606"},{id:"suave",name:"",value:['"Suave"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/suavidad-suave.png?v=1625148657"}],tipo:[{id:"resortado",name:"",value:['"Resortado"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/colchon-resortado.png?v=1625149209"},{id:"espuma",name:"",value:['"Espuma"'],img:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/colchon-espuma.png?v=1625148760"}]};function copiarAlPortapapeles(id_elemento){var aux=document.getElementById(`${id_elemento}`).select();document.execCommand("copy")}let vatValidate=!0;$(".elementWp").change(()=>{vatValidate=!vatValidate,vatValidate==!1?document.getElementById("whatappNumer").required=!1:document.getElementById("whatappNumer").required=!0}),(()=>{if(document.getElementById("contact_form")==null)return null;const departamento=theme.departmentName.toLocaleLowerCase().trim(),departamentsSelect=document.getElementById("Departamento");departamentsSelect!=null&&(departamentsSelect.value=departamento)})(),(()=>{if(document.getElementById("formTourVirtual")==null)return null;const departamento=theme.departmentName.toLocaleLowerCase().trim(),departamentsSelect=document.getElementById("Departamento");departamentsSelect!=null&&(departamentsSelect.value=departamento)})(),(()=>{if(document.getElementById("formOutlet")==null)return null;const departamento=theme.departmentName.toLocaleLowerCase().trim(),departamentsSelect=document.getElementById("Departamento");departamentsSelect!=null&&(departamentsSelect.value=departamento)})(),(()=>{if(document.getElementById("formCyberdaysJamar")==null)return null;const departamento=theme.departmentName.toLocaleLowerCase().trim(),departamentsSelect=document.getElementById("Departamento");departamentsSelect!=null&&(departamentsSelect.value=departamento)})(),(()=>{if(document.getElementById("formBlackWeekendJamar")==null)return null;const departamento=theme.departmentName.toLocaleLowerCase().trim(),departamentsSelect=document.getElementById("Departamento");departamentsSelect!=null&&(departamentsSelect.value=departamento)})();var infoUser={};function savedata2step(){let obj={first_name:document.getElementById("nombreUno").value,middle_name:document.getElementById("nombreDos").value,first_last_name:document.getElementById("apellidoUno").value,second_last_name:document.getElementById("apellidoDos").value};fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/form21`,{method:"PUT",body:JSON.stringify(obj)})}function savedata3step(){let obj={address:`${document.getElementById("typeDirection").value} ${document.getElementById("extraOne").value} ${document.getElementById("extraTwo").value} ${document.getElementById("extraThee").value} ${document.getElementById("typeCalle").value} ${document.getElementById("typeCalleComplete").value} ${document.getElementById("typeHouse").value} ${document.getElementById("typeHouseComplete").value}`};fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/form22`,{method:"PUT",body:JSON.stringify(obj)})}function savedata4step(){let obj={department:document.getElementById("departamentSelect").value,city:document.getElementById("selectCities").value,occupation:document.getElementById("emploSelect").value,neighborhood:document.getElementById("barrioSelect").value};fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/form23`,{method:"PUT",body:JSON.stringify(obj)})}var arraySkusCollections=[];const arrayProductoOutlet=[];var bodyControl=document.getElementById("decoracion-hogares");bodyControl!=null&&($("#contact_form").addClass("forHorar"),$("#contact_form").removeAttr("id"),document.querySelector(".forHorar").addEventListener("submit",e=>{e.preventDefault(),$("#CorreoLeads").val()!=""&&document.querySelector(".forHorar").submit()}));function saveDataWebToLead(data){return fetch("https://mf13x5ajug.execute-api.us-east-1.amazonaws.com/prd/v1/api_lead_sf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)}).then(data2=>data2.json()).then(data2=>data2).catch(error=>error)}var formNewsletter=document.getElementById("formNewsLetter");formNewsletter?.addEventListener("submit",e=>{if($("#btnNewsLetter").attr("disabled",!0),$("#correoNews").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:"-",origen:"Web Site",correoElectronico:$("#correoNews").val().toUpperCase(),celular:"57"+$("#whatappNumer").val(),empresa:"JA",nomPais:"Colombia",descripcion:"NewsLetter"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formNewsLetter").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var refiereygana=document.getElementById("formulario-rYg");refiereygana?.addEventListener("submit",e=>{if($("#btn-ryg").attr("disabled",!0),$("#celular-ryg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombre-ryg").val()+" "+$("#apellido-ryg").val(),origen:"Web Site",idCliente:"JA_"+$("#cedula-ryg").val(),celular:"57"+$("#celular-ryg").val(),identificacion:$("#cedula-ryg").val(),tipoIdentificacion:"CEDULA DE CIUDADANIA",empresa:"JA",nomPais:"Colombia",webSite:window.location.href,descripcion:"Formularo-refiere-y-gana"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),console.log(infoUser2),infoUser2.success&&(window.location.href="/pages/refiere-y-gana-confirmacion")}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formularioEventos=document.getElementById("formulario-eventos");formularioEventos?.addEventListener("submit",e=>{if($("#btn-feria").attr("disabled",!0),$("#celular-feria").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombre-feria").val()+" "+$("#apellido-feria").val(),origen:"Web Site",idCliente:"JA_1045727715",celular:"57"+$("#celular-feria").val(),identificacion:"1045727715",tipoIdentificacion:"CEDULA DE CIUDADANIA",empresa:"JA",nomPais:"Colombia",webSite:"https://www.jamar.com/prueba",descripcion:"Formularo-eventos-jamar"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),console.log(infoUser2),infoUser2.success}).catch(error=>{console.log("error al guardar -> ",error),console.log("esta monda no sirve")})}else alert("Error")});var formOutlet=document.getElementById("formOutlet");formOutlet?.addEventListener("submit",e=>{if($("#btnOutlet").attr("disabled",!0),$("#Email").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#FirstName").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#Email").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-outlet, Departamento: "+$("#Departamento").val().toUpperCase()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formOutlet").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")}),(()=>{if(document.getElementById("formulario-universal")==null)return null;const departamentoU=document.getElementById("DepartamentoU"),validateDepU=theme.departmentName.toLocaleLowerCase().trim();departamentoU!=null&&(departamentoU.value=validateDepU)})();var formUniversal=document.getElementById("formulario-universal");formUniversal?.addEventListener("submit",e=>{if(e.preventDefault(),$("#btn-form-universal").attr("disabled",!0),$("#EmailU").val()!=""){let dataSalesForceWebToLead={apellidos:$("#FirstNameU").val().toUpperCase(),whatsapp:"+57"+$("#WhatsappU").val().toUpperCase(),aceptoContactoWhatsapp:document.getElementsByClassName("aceptoWhatsapp").value,origen:"Web Site",webSite:window.location.href,departamento:document.getElementById("DepartamentoU").value,correoElectronico:$("#EmailU").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:$("#description_saleforce").val()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log("hola"+infoUser2),document.getElementById("btn-form-universal").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var form=document.getElementById("create_customer");form?.addEventListener("submit",e=>{if($("#singUpForm").attr("disabled",!0),$("#Email").val()!=""){e.preventDefault();let dataSalesForceWebToLead={nombre:$("#FirstName").val().toUpperCase(),apellidos:$("#LastName").val().toUpperCase(),departamento:ubicacion_departamento_nombre,origen:"Web Site",correoElectronico:$("#Email").val().toUpperCase(),empresa:"JA",identificacion:$("#cedula").val(),idCliente:"JA_"+$("#cedula").val(),nomPais:"Colombia",descripcion:"Formulario-registrate"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("create_customer").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formEstilosD=document.getElementById("formLandingEstilosD");formEstilosD?.addEventListener("submit",e=>{if($("#btnEnviarFormEstilosD").attr("disabled",!0),$("#emailED").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#firstNameED").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailED").val().toUpperCase(),celular:$("#phoneED").val(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-moderno-glam"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementsById("formLandingEstilosD").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formEstilosM=document.getElementById("formLandingEstilosM");formEstilosM?.addEventListener("submit",e=>{if($("#btnEnviarFormEstilosM").attr("disabled",!0),$("#emailEM").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#firstNameEM").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailEM").val().toUpperCase(),celular:$("#phoneEM").val(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-moderno-glam"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formLandingEstilosM").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formEstilosNcD=document.getElementById("formLandingEstilosNCD");formEstilosNcD?.addEventListener("submit",e=>{if($("#btnEnviarFormEstilosNCD").attr("disabled",!0),$("#emailENCD").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#firstNameENCD").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailENCD").val().toUpperCase(),celular:$("#phoneENCD").val(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-natural-century"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementsById("formLandingEstilosNCD").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formEstilosNcM=document.getElementById("formLandingEstilosNCM");formEstilosNcM?.addEventListener("submit",e=>{if($("#btnEnviarFormEstilosNCM").attr("disabled",!0),$("#emailENCM").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#firstNameENCM").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailENCM").val().toUpperCase(),celular:$("#phoneENCM").val(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-natural-century"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formLandingEstilosNCM").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formCyberdaysJamar=document.getElementById("formCyberdaysJamar");formCyberdaysJamar?.addEventListener("submit",e=>{if($("#btnEnviarCyberdays").attr("disabled",!0),$("#emailCyber").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCyber").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailCyber").val().toUpperCase(),productoInteres:$("#Categoria").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-cyberdays, Departamento: "+$("#Departamento").val().toUpperCase()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formCyberdaysJamar").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formBlackWeekend=document.getElementById("formBlackWeekendJamar");formBlackWeekend?.addEventListener("submit",e=>{if($("#btnEnviarBlackWeekend").attr("disabled",!0),$("#emailBlackWeekend").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreBlackWeekend").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailBlackWeekend").val().toUpperCase(),productoInteres:$("#Categoria").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-black-weekend, Departamento: "+$("#Departamento").val().toUpperCase()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formBlackWeekendJamar").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formComedoresCateg=document.getElementById("formComedores");formComedoresCateg?.addEventListener("submit",e=>{if($("#btnFormComedores").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCateg").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-comedores"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formComedores").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formDormitoriosCateg=document.getElementById("formDormitorios");formDormitoriosCateg?.addEventListener("submit",e=>{if($("#btnFormDormitorios").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCateg").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-dormitorios"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formDormitorios").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formColchonesPrincipal=document.getElementById("formColchonesPrincipal");formColchonesPrincipal?.addEventListener("submit",e=>{if($("#btnFormColchonesPrin").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCateg").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-colchones-principal"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formColchonesPrincipal").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formColchonesPromocional=document.getElementById("formColchonesPromocional");formColchonesPromocional?.addEventListener("submit",e=>{if($("#btnFormColchonesProm").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCateg").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-colchones-promocional"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formColchonesPromocional").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formSalas=document.getElementById("formSalas");formSalas?.addEventListener("submit",e=>{if($("#btnFormSalas").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreCateg").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-salas"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formSalas").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formTourVirtual=document.getElementById("formTourVirtual");formTourVirtual?.addEventListener("submit",e=>{if($("#btnFormTourVirtual").attr("disabled",!0),$("#emailTour").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nameTour").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#emailTour").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-tour-virtual, Departamento: "+$("#Departamento").val().toUpperCase()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formTourVirtual").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formContactanos=document.getElementById("contact-form-jamar");formContactanos?.addEventListener("submit",e=>{if($("#btnFormContactanos").attr("disabled",!0),$("#correoContacto").val()!=""){e.preventDefault();let dataSalesForceWebToLead={nombres:$("#nombreContacto").val().toUpperCase(),apellidos:$("#apellidoContacto").val().toUpperCase(),identificacion:$("#cedulaContacto").val(),idCliente:"JA_"+$("#cedulaContacto").val(),origen:"Web Site",correoElectronico:$("#correoContacto").val().toUpperCase(),celular:"57"+$("#telefonoContacto").val(),ciudad:$("#ciudadContacto").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Formulario cont\xE1ctanos, Consulta: "+$("#consultaContacto").val()+" Motivo de contacto: "+$("#motivoContacto").val().toUpperCase()};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),window.location.href="https://www.jamar.com/pages/gracias-por-contactarnos"}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formColeccionDeluxe=document.getElementById("formColeccionDeluxe");formColeccionDeluxe?.addEventListener("submit",e=>{if($("#btnFormColeccionDeluxe").attr("disabled",!0),$("#correoDeluxe").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreDeluxe").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoDeluxe").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-coleccion-deluxe"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formColeccionDeluxe").submit(),alert("Datos enviados correctamente")}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formColeccionElemental=document.getElementById("formColeccionElemental");formColeccionElemental?.addEventListener("submit",e=>{if($("#btnFormColeccionElemental").attr("disabled",!0),$("#correoElemental").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreElemental").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoElemental").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-coleccion-elemental"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formColeccionElemental").submit(),alert("Datos enviados correctamente")}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formColchonesSpring=document.getElementById("formColchonesSpring");formColchonesSpring?.addEventListener("submit",e=>{if($("#btnFormColchonesSpring").attr("disabled",!0),$("#correoColchSpring").val()!=""){e.preventDefault();let dataSalesForceWebToLead={apellidos:$("#nombreColchSpring").val().toUpperCase(),origen:"Web Site",correoElectronico:$("#correoColchSpring").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-colchones-spring"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formColchonesSpring").submit(),alert("Datos enviados correctamente")}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});var formAmbienteCateg=document.getElementById("formAmbiente");formAmbienteCateg?.addEventListener("submit",e=>{if($("#btnFormAmbiente").attr("disabled",!0),$("#correoCateg").val()!=""){e.preventDefault();let dataSalesForceWebToLead={celular:"57"+$("#nombreCateg").val(),origen:"Web Site",correoElectronico:$("#correoCateg").val().toUpperCase(),empresa:"JA",nomPais:"Colombia",descripcion:"Landing-ruta-ambiente"};saveDataWebToLead(dataSalesForceWebToLead).then(infoUser2=>{console.log(infoUser2),document.getElementById("formAmbiente").submit()}).catch(error=>{console.log("error al guardar -> ",error)})}else alert("Error")});let objGetCalendar={city:"",date:""};function consultarCiudad(){let arrayTemp=[];var requestOptions={method:"GET"};fetch(`https://${idAsesorias}.execute-api.us-east-1.amazonaws.com/api/v1/booking/office365/services/`).then(response=>response.json()).then(data=>{let services=[],servicesTemp=data.Services;for(var i in servicesTemp)servicesTemp[i].Name.includes("Panam")||services.push(servicesTemp[i]);let serivicesTemp=[];services.forEach(element=>{element.Name.includes("Ventas")||serivicesTemp.push(element)}),services=serivicesTemp,services.forEach((element,index)=>{$("#ciudades-jamar").append(`<option value="${element.Id}">${element.Name}</option> `)})}).catch(error=>console.log("error",error))}const getHoras=async data=>(await fetch(`https://${idAsesorias}.execute-api.us-east-1.amazonaws.com/api/v1/booking/office365/availability/${data.city}/${dateCalendarSelect}`)).json();$("#ciudades-jamar").change(e=>objGetCalendar.city=e.target.value);function guardarAsesoria(data){var myHeaders=new Headers;myHeaders.append("Content-Type","application/json");let raw=JSON.stringify(data);var requestOptions={method:"POST",headers:myHeaders,body:raw,redirect:"follow"};return fetch(`https://${idAsesorias}.execute-api.us-east-1.amazonaws.com/api/v1/booking/office365/appointment/`,requestOptions).then(data2=>data2.json()).then(data2=>data2).catch(error=>error)}var formAsesoria=document.getElementById("formAsesoria");formAsesoria?.addEventListener("submit",async e=>{e.preventDefault();try{$(".text-btn-form-asesoria").append(`
       <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/loader-small.gif?v=1629817015">
      `);const dateTotal=$("#calendario-asesoria-jamar").val()+"T"+horaAsesoria;let newDateTest=dateCalendarSelect,time=horaAsesoria.toString().split(":"),hour=parseInt(time[0]),min=parseInt(time[1]),dateInit=moment(newDateTest).format("YYYY-MM-DDTHH:mm:ss"),dataAsesoria={AnsweredQuestionList:[],CustomerConsentText:"Declaro y garantizo que he le\xEDdo y estoy de acuerdo con la pol\xEDtica de tratamiento de datos.",CustomerEmail:$("#CorreoAsesoria").val(),CustomerName:$("#PrimerNombre").val()+" "+$("#Apellido").val(),CustomerNotes:$("#InfoAdicional").val(),CustomerPhone:57+$("#Telefono").val(),CustomerTimeZone:"SA Pacific Standard Time",DidCustomerConsent:!0,SendSmsToCustomer:!1,ServiceId:$("#ciudades-jamar").val(),Start:newDateTest+"T"+horaAsesoria,StartInCustomerTimeZone:newDateTest+"T"+horaAsesoria,customer_document:$("#NumedoDoc").val()},dataSalesForceWebToLead={nombre:$("#PrimerNombre").val().toUpperCase(),apellidos:$("#Apellido").val().toUpperCase(),correoElectronico:$("#CorreoAsesoria").val().toUpperCase(),identificacion:$("#NumedoDoc").val(),idCliente:"JA_"+$("#NumedoDoc").val(),celular:"57"+$("#Telefono").val(),origen:"Web Site",empresa:"JA",nomPais:"Colombia",descripcion:"Asesoria-en-linea, "+$("#InfoAdicional").val()};await saveDataWebToLead(dataSalesForceWebToLead),await guardarAsesoria(dataAsesoria).then(infoUser2=>{let obj={...dataAsesoria,...infoUser2};infoUser2.Body?.ErrorCode==500?alert("Error al agendar"):localStorage.setItem("userInfoReunion",JSON.stringify(obj)),window.location.href="https://www.jamar.com/pages/asesoria-personalizada-confirmacion"}).catch(error=>{alert("error al guardarte agenda")})}catch(error){console.error(error),alert("error al guardarte agenda")}});const renderDataAgenda=()=>{const dataAgendada=JSON.parse(localStorage.getItem("userInfoReunion")),dateAll=moment(new Date(dataAgendada?.Start)).format("llll"),horas=moment(new Date(dataAgendada?.Start)).format("h:mm a");$(".text-fecha-asesoria").html(`<span><strong>${dateAll.substring(0,16)}</strong></span>`),$(".text-hora-asesoria").html(`<span><strong>${horas}(30 mins)</strong></span>`),$(".text-correo-asesoria").append(`<br><span class="text-correo-confirmacion">${dataAgendada?.CustomerEmail} </span>`)};renderDataAgenda();const cancelAppointmentOffice=async id=>{var myHeaders=new Headers;myHeaders.append("Content-Type","application/json");let raw=JSON.stringify(id);var requestOptions={method:"POST",headers:myHeaders,body:raw,redirect:"follow"};return(await fetch(`https://${idAsesorias}.execute-api.us-east-1.amazonaws.com/api/v1/booking/office365/appointment/${id}/cancel`,requestOptions)).json()};$("#cancelarAsesoria").click(async e=>{try{let objStorageAsesoria=JSON.parse(localStorage.getItem("userInfoReunion")),dataCancel=await cancelAppointmentOffice(objStorageAsesoria.Booking.Id);alert("Agenda cancelada, recibir\xE1 un correo electr\xF3nico confirmando la cancelaci\xF3n")}catch{alert("error al cancelar")}});function addCommas(nStr){nStr+="";for(var x=nStr.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(x1);)x1=x1.replace(rgx,"$1.$2");return x1+x2}function addInfo(sku){arraySkusCollections.push(sku)}function createNodes(data,index){$("#MainContent").append(`
  <div class="popUpOne" id="popCont">
    <div class="contenPopUp">
    <button class="cerrar"><i class="icofont-close"></i></button>
    <h3>Beneficios</h3>
    <p>
      Finaciar este producto con Credijamar te otorga beneficios unicos:
    </p>
    <ul id="list-beneficios-${index}" class="beneficiosList">
    </ul>
  </div>
`),setTimeout(()=>{data.forEach(item=>{$(`#list-beneficios-${index}`).append(`<li>${item}</li>`)})},100),$(".cerrar").click(()=>{$("#popCont").remove()})}async function addContens(sku){return null}function removeDuplicates(originalArray,prop){var newArray=[],lookupObject={};for(var i in originalArray)lookupObject[originalArray[i][prop]]=originalArray[i];for(i in lookupObject)newArray.push(lookupObject[i]);return newArray}function addToCards(id,quantity){jQuery.post("/cart/add.js",{items:[{quantity:quantity||1,id}]})}let imagenUpload="",documentUpload="";async function upload(file){return await fetch("https://7jmdfl88g2.execute-api.us-east-1.amazonaws.com/prod",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imagen:file})}).then(response=>response.json()).then(data2=>data2.image).catch(function(response){return console.log("eerror"),null})}function encodeImageFileAsURL(element,type){var file=element.files[0],reader=new FileReader;const results=reader.onloadend=async function(){type=="doc"?documentUpload=await upload(reader.result):type=="img"&&(imagenUpload=await upload(reader.result))};return reader.readAsDataURL(file),results}if($(".sliderAniversario").slick({slidesToShow:3,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{dots:!0,slidesToShow:1,slidesToScroll:1}}]}),typeof productSkuUtm<"u"){let historyItems2=localStorage.getItem("pvh");if(historyItems2!=null){let dataHistoryViewP=JSON.parse(historyItems2),arrayNewProduc=[...dataHistoryViewP];dataHistoryViewP.forEach(i=>{let obj={sku:productSkuUtm,order:i.order+1,id:productId};arrayNewProduc.push(obj)});let finalArray=removeDuplicates(arrayNewProduc,"sku");localStorage.setItem("pvh",JSON.stringify(finalArray))}else{let obj=[{sku:productSkuUtm,order:1,id:productId}];localStorage.setItem("pvh",JSON.stringify(obj))}}let sliderst=0,productView=[],elementAppend=document.getElementById("conten-historyView"),historyItems=localStorage.getItem("pvh");var lastScrollTop=30,showStores=!1;window.addEventListener("scroll",function(){var st=window.pageYOffset||document.documentElement.scrollTop;st>lastScrollTop&&st>=30?(showStores=!1,$("#header-primary").css("top","-17em"),$(".burgerMenu").css("box-shadow","3px 10px 19px -6px #00000030"),$(".imgTiendas").css("transform","rotate(0deg)"),$(".menu-clicker").css("display","none")):($("#header-primary").css("top","0"),$(".burgerMenu").css("box-shadow","none")),lastScrollTop=st},!1);let contenMenu=document.querySelector(".contenMenu"),contenLiskc=document.querySelector(".conten-liskc"),contenInfo=document.querySelector("#contenInfo");$(".productListCategory").click(()=>{$(".contenMenu").css("display","flex"),setTimeout(()=>{$(".conten-liskc").css("left","0vw")},100)}),$(".main-header__cart-container").click(()=>{$(".cart-header").css("display","block")});let constSearch=document.getElementById("conten-search"),containersearch=document.querySelector(".container-search");function showSeachBar(valid){valid=="show"?constSearch.style.display="block":constSearch.style.display="none",setTimeout(()=>{valid=="show"?containersearch.style.height="90%":containersearch.style.height="0%"},100)}function searchProduct(e){let category=(isFamiliasFelices?"":"N")+"FF",key=e,url=`${window.theme.apiURL}record_products/${window.theme.department}/search_by_key?category=${category}&key=${key}`;e.length>3&&fetch(url).then(function(res){console.log(res)}).catch(function(res){console.log(res)})}function savHistorySearch(name){let historySearch2=localStorage.getItem("hsrc");if(historySearch2!=null&&historySearch2!=null){let finalHistory=JSON.parse(historySearch2);finalHistory.push(name),localStorage.setItem("hsrc",JSON.stringify(finalHistory))}else localStorage.setItem("hsrc",JSON.stringify([name]))}let hsearch=document.getElementById("hsearch"),historySearch=localStorage.getItem("hsrc");function selectHistory(e){document.getElementById("Search").focus(),document.getElementById("Search").value=e,$("#Search").change()}historySearch!=null&&historySearch!=null&&JSON.parse(historySearch).map(i=>{$("#hsearch").css("display","block"),$("#hsearch").append(`<li class="hItem" onclick="selectHistory('${i}')"> <img src="https://cdn.shopify.com/s/files/1/0014/7531/3727/files/access_time-24px.svg?v=1597940149">
	<span>${i}</span<li>`)});function setItemsMenu(container,e){$(container).html("");var currentLevel=categoryHierarchy.level1.filter((level1,index1)=>level1.id==e);currentLevel.length>0&&currentLevel[0].level2.length>=1&&($(container).append(`
<button class="mobile-show"> <img src="https://cdn.shopify.com/s/files/1/0014/7531/3727/files/keyboard_backspace-24px.svg?v=1597180784"atl="atras"></button>
<h2>${currentLevel[0].description.toUpperCase()}</h2>
<ul id="listItem" class="list-item-menu js-list-item-menu-lvl2"></ul>
`),currentLevel[0].level2.forEach(i=>{if(i.show==!0){i.if_level2=!0,i.has_url=!0,i.handle=i.description.toLowerCase().replace(/\s|\/|,-|,\s/g,"-"),i.parentName=currentLevel[0].description.toLowerCase().replace(/\s|\/|,-|,\s/g,"-");var template=Handlebars.compile($("#item-menu-levels").html()),htmlItem=template(i);$(container.selector+" .js-list-item-menu-lvl2").append(htmlItem),i.description=="Colchones"&&$("#cat-menu-WL2-00007 a").attr("href","/pages/landing-colchones")}}),$(".conten-liskc").css("width","50%"),menuDeploy(container,e))}function menuDeploy(container,e){$(".imgAction").hide(),setTimeout(()=>{$(container).show()},250),setTimeout(()=>{$(container).css("left","0vw")},270),setTimeout(()=>{$("#imgSelec-"+e).show()},200),$(container.selector+" button").click(()=>{$(container).css("left","-30em"),$(container+" .imgAction").hide(),setTimeout(()=>{$(container).hide()},200)})}function showMenuLvl2(e){var containerLvl2=$(".js-content-menu-lvl2"),containerLvl3=$(".js-content-menu-lvl3");e.toUpperCase()!="CAT\xC1LOGOS"?(setItemsMenu(containerLvl2,e),$(containerLvl3).hide()):($(".conten-liskc").css("width","30%"),$(containerLvl2).css("display","none"))}function showMenuLvl3(e){var containerLvl3=$(".js-content-menu-lvl3");setItemsMenu(containerLvl3,e)}$(".selec-credit").change(function(){let url=$(this).val();url!="#"&&window.open(url,"_blank")});function addOfertas(){if(document.getElementById("ofertas-jamar")!=null){let costaTipo=0;theme.departmentName=="ATLANTICO"||theme.departmentName=="MAGDALENA"||theme.departmentName=="BOLIVAR"?costaTipo=0:theme.departmentName=="CORDOBA"||theme.departmentName=="CESAR"||theme.departmentName=="SUCRE"||theme.departmentName=="GUAJIRA"?costaTipo=1:theme.departmentName=="ANTIOQUIA"||theme.departmentName=="CUNDINAMARCA"||theme.departmentName=="SANTANDER"?costaTipo=2:costaTipo=0,fetch("https://us-central1-jamar-294813.cloudfunctions.net/function-1",{method:"POST",body:JSON.stringify({region:costaTipo})}).then(data=>data.json()).then(data=>{data.info.map(i=>{let cards=$(`.skuP-${i.sku}`);cards.addClass("credito-new"),cards.append(`<button class="callMosaic" style="background-color: ${i.color} ">${i.expresion}</button>`)})})}}function showCredito(){$("#info-producto").css("display","block"),$("#row-chat-planes").css("display","block"),$("#row-simulador-cuotas").css("display","block"),$("#comprar-credito").css("display","block"),$("#row-precio-contado").css("display","block"),$("#row-precio-oferta-promo").css("display","block"),$("#row-cuotas").css("display","none"),$("#row-precio-oferta").css("display","none"),$("#mediosPago").css("display","none"),$("#row-oferta").css("display","none"),$("#row-precio-credito").css("display","none"),$("#comprar-contado").css("display","none")}function showContado(){$("#row-cantidad-producto").css("display","block"),$("#row-oferta").css("display","block"),$("#comprar-contado").css("display","block"),$("#row-precio-credito").css("display","block"),$("#row-precio-oferta").css("display","block"),$("#row-precio").css("display","none"),$("#row-precio-oferta-promo").css("display","none"),$("#row-cuotas").css("display","none"),$("#comprar-credito").css("display","none"),$("#row-simulador-cuotas").css("display","none"),$("#row-precio-contado").css("display","none"),$("#info-producto").css("display","none"),$("#row-chat-planes").css("display","none"),$("#row-cuota-fija").css("display","none")}const accordionItemHeaders=document.querySelectorAll(".accordion-item-header");if(accordionItemHeaders.forEach(accordionItemHeader=>{accordionItemHeader.addEventListener("click",event2=>{const currentlyActiveAccordionItemHeader=document.querySelector(".accordion-item-header.active");currentlyActiveAccordionItemHeader&&currentlyActiveAccordionItemHeader!==accordionItemHeader&&(currentlyActiveAccordionItemHeader.classList.toggle("active"),currentlyActiveAccordionItemHeader.nextElementSibling.style.maxHeight=0),accordionItemHeader.classList.toggle("active");const accordionItemBody=accordionItemHeader.nextElementSibling;accordionItemHeader.classList.contains("active")?(accordionItemBody.style.maxHeight=accordionItemBody.scrollHeight+"px",accordionItemBody.style.margin="0"):(accordionItemBody.style.maxHeight=0,accordionItemBody.style.margin="0 auto")})}),typeof productId<"u"){var renderProductsCredits=function(){var carCredito=JSON.parse(localStorage.getItem("crdCar"));let data={data:carCredito};if(carCredito){var template=Handlebars.compile($("#productFeesCart").html());const options=template(data);$("#containerProductos").append(options)}},aquilityCredit=1,fee=16;document.querySelectorAll(".paneles-item-header").forEach(panelesItemHeader=>{panelesItemHeader.addEventListener("click",event2=>{panelesItemHeader.classList.toggle("active");const panelesItemBody=panelesItemHeader.nextElementSibling;panelesItemHeader.classList.contains("active")?(panelesItemBody.style.maxHeight="0px",panelesItemBody.style.margin="0 auto"):(panelesItemBody.style.maxHeight="max-content",panelesItemBody.style.margin="0 auto")})}),document.getElementById("cta-cantidad").addEventListener("change",e=>{aquilityCredit=parseInt(e.target.value)}),document.getElementById("cta-simulador").addEventListener("change",e=>{$("#row-cuotas").css("display","block"),$("#row-chat-planes").css("display","block");const listSelect=e.target.value.split(",");listSelect[1]=="40"&&($("#row-cuotas").css("display","none"),$("#row-chat-planes").css("display","none")),listSelect[1]=="40"?$("#text-cuotas").text("Cuota semana desde:"):$("#text-cuotas").text("Cuota semanal de:"),$("#valor-cuota").html(`<span>$${addCommas(parseInt(listSelect[0]))}</span>`),fee=listSelect[1],feeValue=listSelect[0]})}function whatsappAPiSagin(info,dataExtra){var primerNombre=info.primer_nombre==""?dataExtra.first_name:info.primer_nombre,segundoNombre=info.segundo_nombre==""?dataExtra.middle_name:info.segundo_nombre,primerApellido=info.primer_apellido==""?dataExtra.first_last_name:info.primer_apellido,segundoApellido=info.segundo_apellido==""?dataExtra.second_last_name:info.segundo_apellido,nDocumento=info.n_ide==""?dataExtra.document_type:info.n_ide,data=new FormData;return data.append("origen","Ecommerce"),data.append("sagicc_token","f6ea662c9532fe18fb70ac4740722860"),data.append("primer_apellido",primerApellido),data.append("segundo_apellido",segundoApellido),data.append("primer_nombre",primerNombre),data.append("segundo_nombre",segundoNombre),data.append("nro_documento",nDocumento),data.append("tipo_documento","CC"),data.append("telefono",dataExtra.cellphone),new Promise((resolve,reject)=>{fetch("https://jamar.sagicc.co/api/v2/canal-website/website-callback",{method:"POST",body:data}).then(data2=>resolve(data2)).catch(e=>reject(e))})}function modoCRequest(identification,clientId2){localStorage.setItem("clientId",clientId2);var response={};return new Promise((resolve,reject)=>{fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${identification}?internal_id=${clientId2}`).then(data=>(response.statusCodeResponse=data.status,data.json())).then(data=>{const dataFinal={...response,...data};resolve(dataFinal)}).catch(err=>reject(err))})}function getTypeDocument(){let querry=[{variable:"c_emp",operador:"=",valor:"'JA'"},{variable:"apl_creacion",operador:"=",valor:"'S'"}];return new Promise((resolve,reject)=>{fetch("https://59o1es3b63.execute-api.us-east-1.amazonaws.com/api/v1/JA/doc-type/",{method:"POST",body:JSON.stringify(querry),headers:{"Content-Type":"application/json"}}).then(res=>res.json()).then(data=>resolve(data.data)).catch(e=>reject(e))})}function getOcupaciones(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.tarjetizacionColApi}/JA/occupations`).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}function templateActivities(json){json.data.forEach(i=>{$("#activitySelect").append(`<option value="${i.CODIGO?i.CODIGO:i.TIPO_OCU}">${i.DESCRIPCION?i.DESCRIPCION:i.DESC_OCU}</option>`)})}function getActivities(occupation){let criterios=[{variable:"c_emp",operador:"=",valor:"'JA'"},{variable:"cod_ocu",operador:"=",valor:`'${occupation}'`},{variable:"est",operador:"=",valor:"'A'"}];return fetch(`https://appsprd.mueblesjamar.com.co/CatalogosService/api/cargos/findByCriteria?c_emp=JA&api_key=d47c29cfdf8e2456ac678c51f9e4ddfa8ec577f64e98aa9e863399f6a10210d4&criterios=${JSON.stringify(criterios)}`).then(data=>data.json()).catch(err=>console.log(err))}function getActivities1(occupation){let criterios=[{variable:"c_emp",operador:"=",valor:"'JA'"},{variable:"cod_ocu",operador:"=",valor:`'${occupation}'`},{variable:"estado",operador:"=",valor:"'A'"}];return fetch(`https://appsprd.mueblesjamar.com.co/CatalogosService/api/tiposocupacion/findByCriteria?c_emp=JA&api_key=d47c29cfdf8e2456ac678c51f9e4ddfa8ec577f64e98aa9e863399f6a10210d4&criterios=${JSON.stringify(criterios)}`).then(data=>data.json()).catch(err=>console.log(err))}async function renderActivities(occupation){const containerActivies=document.querySelector(".container-activities"),selectActivies=document.querySelector("#activitySelect");if(selectActivies.innerHTML="",console.log("required",selectActivies.getAttribute("required")),selectActivies.getAttribute("required")||selectActivies.setAttribute("required",""),selectActivies.insertAdjacentHTML("afterbegin",'<option selected disabled value="">Actividad</option>'),occupation==2){const activities=await getActivities(occupation);templateActivities(activities),containerActivies.classList.remove("d-none")}else{const activities1=await getActivities1(occupation);templateActivities(activities1),containerActivies.classList.remove("d-none"),activities1.data.length==0&&(selectActivies.removeAttribute("required"),containerActivies.classList.add("d-none"),objUserDataCheck.activity_charge="00")}}function getDepartamentos(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.credijamarApi}/JA/departments`).then(data=>data.json()).then(data=>{let arrayDepartaments=data.filter(i=>i.codigo!="11");return resolve(arrayDepartaments)}).catch(e=>reject(e))})}function getDepartamentosEnvio(){return new Promise((resolve,reject)=>{fetch("https://"+theme.ID_Lambda.prod.BACKBONE_PRODUCT_ID+".execute-api.us-east-1.amazonaws.com/api/v1/departments?project_id=01").then(data=>data.json()).then(data=>{resolve(data)}).catch(e=>reject(e))})}function getCiudad(dep){return new Promise((resolve,reject)=>{fetch(`https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/cities?project_id=1&departmet_id=${dep}`).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}var barrios=[];function getbarios(dep,cities){return new Promise((resolve,reject)=>{fetch(`https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/neigborhoods?project_id=1&departmet_id=${dep}&municipio_id=${cities}`).then(data=>data.json()).then(data=>(barrios=data,resolve(data))).catch(e=>reject(e))})}function getTypeDirection(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.tarjetizacionColApi}/JA/way-type`).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}function getTypeCuadra(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.tarjetizacionColApi}/JA/int1-type`).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}function getTypeHouse(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.tarjetizacionColApi}/JA/int3-type`).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}$(".btn-views").click(()=>{$("#modalCart").css("display","none")}),$(".btnadds").click(()=>{$("#modalCart").css("display","none")}),$("#disponibilidad-tiendas").click(()=>{$("#detallesModal2").removeClass("d-none"),$("#detallesModal2").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn")}),$(".btm-close").click(()=>{$("#detallesModal2").addClass("d-none")}),$("#modal-btn-filter").click(()=>{$("#detallesModal3").removeClass("d-none"),$("#detallesModal3").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn")}),$(".btm-close").click(()=>{$("#detallesModal3").addClass("d-none")}),$(".closeModalCredit").click(()=>{$("#modalCart").css("display","none")});const selectFilterType=type=>(console.log(type),filtrosCochones[type]);let myListFilterArrayOptions=[];const hambleURL=(item,type,id)=>{console.log(item),console.log(type),myListFilterArrayOptions.filter(i=>i===item.toString()).length==0?(myListFilterArrayOptions.push(item.toString()),$(`#${id}`).addClass("activeFilter activebtnfc"),$(`button[value='${item}']`).css("background-color","#202833d6")):(myListFilterArrayOptions=myListFilterArrayOptions.filter(i=>i!=item.toString()),$(`#${id}`).removeClass("activeFilter activebtnfc"),$(`button[value='${item}']`).css("background-color","#dadada4a"));let baseURL=`/collections/types?q=Colchones&category=WL1-005&filters=true${myListFilterArrayOptions.length>=1?"&"+type+"=["+myListFilterArrayOptions+"]":""} `;$(".irVer").attr("href",baseURL)},renderFilter=(array,type)=>{$("button").remove(".customBtn1234"),$("div").remove(".contenedor-opfltr"),array.forEach(i=>{$(".optionsfltr").append(`
		<div class="contenedor-opfltr">
		  <img class="png-flitro-colchones" src="${i.img}" /> ${i.name}
          <button value='${i.value}' class="optionFilter customBtn1234" style="" id="${i.id}"></button>
		</div>`)}),$(".optionFilter").click(e=>{hambleURL(e.target.value,type,e.target.id)})};$("#modalTamanos-btn").click(()=>{const filtros=selectFilterType("tamano");renderFilter(filtros,"Filtro_Medida"),$("#modalTamanos").removeClass("d-none"),$("#modalTamanos").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn")}),$("#modalTamanos-btn2, #btn2tamano").click(()=>{const filtros=selectFilterType("tamano");renderFilter(filtros,"Filtro_Medida"),$("#modalTamanos").removeClass("d-none"),$("#modalTamanos").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalConfort").addClass("d-none"),$("#modalTipo").addClass("d-none")}),$("#modalTamanos-btn3, #btn3tamano").click(()=>{const filtros=selectFilterType("tamano");renderFilter(filtros,"Filtro_Medida"),$("#modalTamanos").removeClass("d-none"),$("#modalTamanos").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalConfort").addClass("d-none"),$("#modalTipo").addClass("d-none")}),$(".btm-close").click(()=>{$("#modalTamanos").addClass("d-none")}),$("#modalConfort-btn, #btn2gradodeConfort").click(()=>{$("#modalConfort").removeClass("d-none"),$("#modalConfort").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalTamanos").addClass("d-none"),$("#modalTipo").addClass("d-none");const filtros=selectFilterType("confort");renderFilter(filtros,"Filtro_Firmeza")}),$("#modalConfort-btn2, #btn3gradodeConfort").click(()=>{$("#modalConfort").removeClass("d-none"),$("#modalConfort").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalTamanos").addClass("d-none"),$("#modalTipo").addClass("d-none");const filtros=selectFilterType("confort");renderFilter(filtros,"Filtro_Firmeza")}),$(".btm-close").click(()=>{$("#modalConfort").addClass("d-none")}),$("#modalTipo-btn, #btn2tipodeColchon").click(()=>{$("#modalTipo").removeClass("d-none"),$("#modalTipo").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalTamanos").addClass("d-none"),$("#modalConfort").addClass("d-none");const filtros=selectFilterType("tipo");renderFilter(filtros,"Unidad_Interna")}),$("#modalTipo-btn2, #btn3tipodeColchon").click(()=>{$("#modalTipo").removeClass("d-none"),$("#modalTipo").removeClass("d-flex"),$(".body-modal").addClass("animate__fadeIn"),$("#modalTamanos").addClass("d-none"),$("#modalConfort").addClass("d-none");const filtros=selectFilterType("tipo");renderFilter(filtros,"Unidad_Interna")}),$(".btm-close").click(()=>{$("#modalTipo").addClass("d-none")});function limpiarCarritoCredito(){localStorage.setItem("crdCar",JSON.stringify([])),window.location.href="https://www.jamar.com/pages/car-credit"}var dataInfoVisor;$(document).on("click",".js-step-cart-credito",function(ev){$(".js-section-comprar-credito").removeClass("display-none"),$("#cinformacion").addClass("circulo"),$("#linformacion").addClass("lines"),$("#cconfirmaci\xF3n").addClass("circulo-inactiva"),$("#lconfirmaci\xF3n").addClass("lines-inactiva"),$("#cgestion").addClass("circulo-inactiva"),$("#lgestion").addClass("lines-inactiva"),$(".js-carrito-credito").addClass("display-none")});function addLoadings(){$("#car-credit").append(`<div class="modalLoading">
    <div class="containerLoading">
      <h3>Buscando la mejor opci\xF3n de cr\xE9dito para ti...</h3>
    </div>
  </div>`)}function loadings(titulo,subTitulo,texto,imagensrc){$("#car-credit").append(`<div class="modalLoading">
        <div class="containerLoading" style="text-align: center; width: 345px; height: auto; background: white; border-radius: 10px; margin: 0;">
            <img style="width: 75px;" src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/reloj-final.gif?v=1637246258">
            <h3 style="padding-top: 20px; font-weight:bold; font-size:20px;" >${titulo}</h3>
            <p>${subTitulo}</p> 
            <p style="padding-bottom: 20px;">${texto}</p>
			<img style="width: 600px;" src="${imagensrc}">
        </div>
    </div>`)}function addDireccion(){$("#car-credit").append(`<div class="modalLoading" style="padding: 16px;">
    <div class="containerLoading">
      <div class="form-group">
        <label class="text-input">Departamento*</label>
        <select class="form-control form-control-lg" id="departamentSelectClte">
          <option disabled selected>Selecciona tu departamento</option>
        </select>
      </div>
      <div class="form-group">
        <label class="text-input">Ciudad*</label>
        <select class="form-control form-control-lg" id="selectCitiesClte">
          <option disabled selected>Selecciona tu ciudad</option>
        </select>
      </div>
      <div class="form-group">
        <label class="text-input">Barrio*</label>
        <select class="form-control form-control-lg" id="barrioSelectClte">
          <option disabled selected>Selecciona tu Barrio</option>
        </select>
      </div>
      <label class="text-input">Escribe tu direcci\xF3n*</label>
      <div style="display:flex;">
        <div class="mr-4" style="width: 100%;">
          <select class="input-credit form-control" id="dir_clte_type">
            <option selected disabled>Cra</option>
          </select>
        </div>
        <div class="row">
          <div class="col-4" style="padding-left: 10px; padding-right: 10px;">
            <input type="text" class="input-credit form-control w-100" id="dir_clte_one" value="${objUserDataCheck.address_rd?.split(" ")[1]||objUserDataCheck.address.split(" ")[1]}">
          </div>
          <div class="col-4" style="padding-left: 10px; padding-right: 10px;">
            <input type="text" class="input-credit form-control w-100" id="dir_clte_two" value="${objUserDataCheck.address_rd?.split(" ")[2]||objUserDataCheck.address.split(" ")[2]}">
          </div>
          <div class="col-4" style="padding-left: 10px; padding-right: 10px;">
            <input type="text" class="input-credit form-control w-100" id="dir_clte_three" value="${objUserDataCheck.address_rd?.split(" ")[3]||objUserDataCheck.address.split(" ")[3]}">
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="text-input">Seleccionar</label>
        <div class="row">
          <div class="col-8">
            <select class="form-control" id="senas_type">
              <option selected disabled>Ej: manzana, piso</option>
            </select>
          </div>
          <div class="col-4">
            <input type="text" class="form-control" id="senas_complete" value="${objUserDataCheck.senas_rd?.split(" ")[1]||objUserDataCheck.address.split(" ")[5]}">
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-8">
            <select class="form-control" id="senas_house_type">
              <option selected disabled>Ej: Apartamento, casa</option>
            </select>
          </div>
          <div class="col-4">
            <input type="text" class="form-control" id="senas_house_complete" value="${objUserDataCheck.senas_rd?.split(" ")[4]||objUserDataCheck.address.split(" ")[7]}">
          </div>
        </div>
      </div>
      <button type="submit" class="btn btn-credit my-4 w-100 col-12 col-md-3" onClick="guardarDireccion()">Siguiente</button>
    </div>
  </div>`),getDepartamentos().then(data=>{objUserDataCheck.department_rd=objUserDataCheck.department_rd||objUserDataCheck.department,data.forEach(i=>{$("#departamentSelectClte").append(`<option value="${i.codigo}">${i.descripcion}</option>`)}),$(`#departamentSelectClte option[value='${objUserDataCheck.department_rd}']`).attr("selected",!0)}),getCiudad(objUserDataCheck.department_rd||objUserDataCheck.department).then(data=>{objUserDataCheck.city_rd=objUserDataCheck.city_rd||objUserDataCheck.city,$("#selectCitiesClte").html('<option value="">Selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#selectCitiesClte").append(`<option value="${i.codigo}">${i.descripcion}</option>`)}),$(`#selectCitiesClte option[value='${objUserDataCheck.city_rd}']`).attr("selected",!0)}),getbarios(objUserDataCheck.department_rd||objUserDataCheck.department,objUserDataCheck.city_rd||objUserDataCheck.city).then(data=>{objUserDataCheck.neighborhood_rd=objUserDataCheck.neighborhood_rd||objUserDataCheck.neighborhood,$("#barrioSelectClte").html('<option selected value="">Selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#barrioSelectClte").append(`<option value="${i.codigo}" data-estrato="${i.zonaestrato}" >${i.descripcion}</option>`),$(`#barrioSelectClte option[value='${objUserDataCheck.neighborhood_rd}']`).attr("selected",!0)})}),getTypeDirection().then(data=>{data.forEach(i=>{$("#dir_clte_type").append(`<option value="${i.cod}" >${i.descripcion}</option>`),$(`#dir_clte_type option[value='${objUserDataCheck.address_rd.split(" ")[0]||objUserDataCheck.address.split(" ")[0]}']`).attr("selected",!0)})}),getTypeCuadra().then(data=>{data.forEach(i=>{$("#senas_type").append(`<option value="${i.cod}" >${i.descripcion}</option>`),$(`#senas_type option[value='${objUserDataCheck.senas_rd.split(" ")[0]||objUserDataCheck.address.split(" ")[4]}']`).attr("selected",!0)})}),getTypeHouse().then(data=>{data.forEach(i=>{$("#senas_house_type").append(`<option value="${i.cod}" >${i.descripcion}</option>`),$(`#senas_house_type option[value='${objUserDataCheck.senas_rd.split(" ")[2]||objUserDataCheck.address.split(" ")[6]}']`).attr("selected",!0)})}),objUserDataCheck.address_rd=objUserDataCheck.address.split(" ").splice(0,4).join(" "),objUserDataCheck.senas_rd=objUserDataCheck.address.split(" ").splice(4,8).join(" "),eventos_direcciones()}function guardarDireccion(){$(".modalLoading").remove()}function eventos_direcciones(){$("#departamentSelectClte").change(e=>{objUserDataCheck.department_rd=e.target.value,getCiudad(objUserDataCheck.department_rd).then(data=>{$("#selectCitiesClte").html('<option value="">Selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#selectCitiesClte").append(`<option value="${i.codigo}">${i.descripcion}</option>`)})})}),$("#selectCitiesClte").change(e=>{objUserDataCheck.city_rd=e.target.value,getbarios(objUserDataCheck.department_rd,objUserDataCheck.city_rd).then(data=>{$("#barrioSelectClte").html('<option selected value="">Selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#barrioSelectClte").append(`<option value="${i.codigo}" data-estrato="${i.zonaestrato}" >${i.descripcion}</option>`)})})}),$("#barrioSelectClte").change(e=>{objUserDataCheck.neighborhood_rd=e.target.value}),$("#dir_clte_type").change(e=>{let dir_clte_type=e.target.value;objUserDataCheck.address_rd=dir_clte_type+" "+objUserDataCheck.address_rd.split(" ")[1]+" "+objUserDataCheck.address_rd.split(" ")[2]+" "+objUserDataCheck.address_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#dir_clte_one").change(e=>{let dir_clte_one=e.target.value;objUserDataCheck.address_rd=objUserDataCheck.address_rd.split(" ")[0]+" "+dir_clte_one+" "+objUserDataCheck.address_rd.split(" ")[2]+" "+objUserDataCheck.address_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#dir_clte_two").change(e=>{let dir_clte_two=e.target.value;objUserDataCheck.address_rd=objUserDataCheck.address_rd.split(" ")[0]+" "+objUserDataCheck.address_rd.split(" ")[1]+" "+dir_clte_two+" "+objUserDataCheck.address_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#dir_clte_three").change(e=>{let dir_clte_three=e.target.value;objUserDataCheck.address_rd=objUserDataCheck.address_rd.split(" ")[0]+" "+objUserDataCheck.address_rd.split(" ")[1]+" "+objUserDataCheck.address_rd.split(" ")[2]+" "+dir_clte_three,$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#senas_type").change(e=>{let senas_type=e.target.value;objUserDataCheck.senas_rd=senas_type+" "+objUserDataCheck.senas_rd.split(" ")[1]+" "+objUserDataCheck.senas_rd.split(" ")[2]+" "+objUserDataCheck.senas_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#senas_complete").change(e=>{let senas_complete=e.target.value;objUserDataCheck.senas_rd=objUserDataCheck.senas_rd.split(" ")[0]+" "+senas_complete+" "+objUserDataCheck.senas_rd.split(" ")[2]+" "+objUserDataCheck.senas_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#senas_house_type").change(e=>{let senas_house_type=e.target.value;objUserDataCheck.senas_rd=objUserDataCheck.senas_rd.split(" ")[0]+" "+objUserDataCheck.senas_rd.split(" ")[1]+" "+senas_house_type+" "+objUserDataCheck.senas_rd.split(" ")[3],$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)}),$("#senas_house_complete").change(e=>{let senas_house_complete=e.target.value;objUserDataCheck.senas_rd=objUserDataCheck.senas_rd.split(" ")[0]+" "+objUserDataCheck.senas_rd.split(" ")[1]+" "+objUserDataCheck.senas_rd.split(" ")[2]+" "+senas_house_complete,$("#dir_clte").val(objUserDataCheck.address_rd+" "+objUserDataCheck.senas_rd)})}const getDocType=async()=>(await(await fetch("https://ihoffgzow6.execute-api.us-east-1.amazonaws.com/api/v1/JA/doc-type/",{method:"POST",body:JSON.stringify([{variable:"c_emp",operador:"=",valor:"'JA'"},{variable:"apl_creacion",operador:"=",valor:"'S'"}]),headers:{"Content-Type":"application/json"}})).json()).data,getFees=async()=>{const carCredito=await obtenerCarrito();if(carCredito!=null){const skus=carCredito.map(e=>e.sku).join(",");return await(await fetch(`https://t9ns02ws4a.execute-api.us-east-1.amazonaws.com/prd/v1/cuotas?project_id=1&agency=${theme.departmentId||localStorage.getItem("departmentId")}&type=TJ&skus=${skus}`)).json()}};function saveInExcel(info){return new Promise((resolve,reject)=>{fetch("https://us-central1-jamar-294813.cloudfunctions.net/function-2",{method:"POST",body:JSON.stringify(info)}).then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}function validateEmail(email){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(email).toLowerCase())}async function onBlur(e,field){if(clientId)fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${clientId}?field=${field}&value=${e.value}`,{method:"PUT"});else{let params=new URLSearchParams(window.location.search),origin;params.has("fbclid")||params.has("utm_source")&&params.get("utm_source").toLowerCase()=="facebook"?origin="facebook":params.has("gclid")||params.has("utm_source")&&params.get("utm_source").toLowerCase()=="google"?origin="google":params.has("twclid")||params.has("utm_source")&&params.get("utm_source").toLowerCase()=="twitter"?origin="twitter":params.has("li_fat_id")||params.has("utm_source")&&params.get("utm_source").toLowerCase()=="linkedin"?origin="linkedin":params.has("dclid")?origin="doubleclick":params.has("msclkid")?origin="bing":origin="ND",clientId=(await post_retry_internal(`${Endpoint.tarjetizacionColApi}/JA/client?field=${field}&value=${e.value}&origin=${origin}&source=${window.location.hostname}`,{method:"POST"})).internal_id,clientId!==void 0&&(localStorage.setItem("clientId",clientId),$("#input-email").prop("disabled",!1),$("#input-celular").prop("disabled",!1))}}$(document).on("click","#callwpform",function(ev){fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/whatsapp`,{method:"PUT"})}),$(document).on("click",".js-step-3-form",function(ev){$(".js-steps4check").removeClass("display-none"),$(".js-steps3check").addClass("display-none")});const userDataOne=async(cc2,tipodocumet)=>{const validCategories=["Salas","Dormitorios","Estudio","Decoraci\xF3n","Comedores","Colchones","Infantil/juvenil"],products=JSON.parse(localStorage.getItem("crdCar")),categories=new Set;for(let index in products){const sku=products[index].sku,category=await fetch(`https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/products/${sku}/levels`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(data2=>data2.json()).then(data2=>{console.log("data:",data2);let element=data2.find(elem=>elem.hirerarchy_level===1&&validCategories.includes(elem.description));if(element)return element.description}).catch(e=>console.log("error",e));category&&categories.add(category)}let idCliente=clientId,canal_v="distancia",tipod=tipodocumet,usuario=usuarioApi,programa=programaApi;console.log("Modo C :",`${Endpoint.tarjetizacionColApi}/JA/client/${cc2}?internal_id=${idCliente}&canal_venta=${canal_v}&tipo_doc=${tipod}&usuario=${usuario}&programa=${programa}&categoria=${Array.from(categories).join("_")}`);const data=await fetch(`${Endpoint.pyVisorApi}/JA/client/${cc2}?internal_id=${idCliente}&canal_venta=${canal_v}&tipo_doc=${tipod}&usuario=${usuario}&programa=${programa}&categoria=${Array.from(categories).join("_")}`).catch(e=>{$(".js-steps1check").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),$(".modalLoading").remove(),window.location.hash="#whatsapp"}),response=await data.json(),status=await data.status;return console.log(response,"respuesta primer servicio"),{codeStatus:status,...response}},getDataNueva=async dep=>{let criterios=[{variable:"c_emp",operador:"=",valor:"'JA'"},{variable:"COD_DEP",operador:"=",valor:`'${dep}'`},{variable:"ESTADO",operador:"=",valor:"'A'"}],parametros={c_emp:"JA",propertie:"PKDAOGENERALES.REGIONESCREDIJAMAR",api_key:"d47c29cfdf8e2456ac678c51f9e4ddfa8ec577f64e98aa9e863399f6a10210d4",criterios:JSON.stringify(criterios)};const paramArray=Object.entries(parametros),paramList=[];paramArray.forEach(([key,value])=>{paramList.push(`${key}=${value}`)});const list=paramList.join("&");return console.log(list),(await(await fetch(`https://appsprd.mueblesjamar.com.co/GeneralesService/api/general/findByCriteria?${list}`)).json()).data[0]};var myObjeCreditData={};const hambleChange=e=>{myObjeCreditData={...myObjeCreditData,...e},console.log(myObjeCreditData)},getQuestion=async()=>{let params={ageest:infoUser.age_est,codest:infoUser.cod_est,cliente:infoUser.n_ide,ageop:infoUser.agr,perop:infoUser.per,numop:infoUser.nro_op,usuario:"ECOMMERCE",proceso:"RIESGOS_WEB",programa:"ECOMMERCE",ide:infoUser.typeDocument,apellido:infoUser.primer_apellido};const info=await form_dinamico_retry(`${Endpoint.precalificacionApi}/JA/test/epik/precalificar/preguntas`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(params)});$(".js-steps1check").addClass("d-none"),$(".js-stepsSend").addClass("display-none"),$(".modalLoading").remove(),$(".js-steps_74").addClass("display-none"),$(".js-steps10check").removeClass("display-none"),window.location.hash="#js-steps10check";let infotwo=info.data.preguntas.sort((a,b)=>a.seccion>b.seccion?1:-1);infotwo=infotwo.filter(e=>e.campo_guardar!="OCUPACION"&&e.campo_guardar!="INGRESOS_PRINCIPALES"&&e.campo_guardar!="DIR_ELECT"),objUserDataCheck.precalificacion="SI",infotwo.forEach(i=>{i.visible=="B"?i.tipo_pregunta=="L"?(i.opciones.data[0].COD_OCU&&(i.opciones.data=i.opciones.data.filter(e=>e.COD_OCU==infoUser.ocupacion)),i.opciones.data.length>0&&$("#inf-bas").append(`
          <div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
          <select class="form-control form-control-lg input-credit js-change-credit required-basic" name="${i.campo_guardar}" required>
                    <option disabled selected value="">${i.descripcion}</option>
                      ${i.opciones.data.map(e=>(console.log(e.codigo?e.codigo:e.OPC_VALOR),`<option value="${e.codigo?e.codigo:e.OPC_VALOR}" >${e.descripcion?e.descripcion:e.OPC_DESCRI}</option>`))}
                  </select>
                </div>`)):(i.tipo_pregunta=="C"||i.tipo_pregunta=="M")&&(i.tipo_dato=="D"&&$("#inf-bas").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
            <input type="date" class="form-control py-4 js-change-credit required-basic" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
            </div>`),i.tipo_dato=="V"&&(i.campo_guardar=="DIR_CLTE"?(objUserDataCheck.address_rd=objUserDataCheck.address.split(" ").splice(0,4).join(" "),objUserDataCheck.senas_rd=objUserDataCheck.address.split(" ").splice(4,8).join(" "),$("#inf-bas").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
            <input type="text" class="form-control py-4 js-change-credit required-basic" id="dir_clte" name="${i.campo_guardar}" value="${objUserDataCheck.address}" onclick="addDireccion()" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
            </div>`)):$("#inf-bas").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
            <input type="text" class="form-control py-4 js-change-credit required-basic" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
            </div>`)),i.tipo_dato=="N"&&$("#inf-bas").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
              <input type="number" class="form-control py-4 js-change-credit required-basic" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
              </div>`),i.tipo_dato=="E"&&$("#inf-bas").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
				<input type="email" class="form-control py-4 js-change-credit required-basic" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
				</div>`)):i.visible=="O"&&(i.tipo_pregunta=="L"?(i.opciones.data[0].COD_OCU&&(i.opciones.data=i.opciones.data.filter(e=>e.COD_OCU==infoUser.ocupacion)),i.opciones.data.length>0&&$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
          <select class="form-control form-control-lg input-credit js-change-credit required-ocup" name="${i.campo_guardar}" required>
            <option disabled selected value="">${i.descripcion}</option>
            ${i.opciones.data.map(e=>`<option value="${e.CODIGO?e.CODIGO:e.OPC_VALOR?e.OPC_VALOR:e.codigo?e.codigo:e.DESC_OCU?e.TIPO_OCU:e.COD_OCU}" >${e.DESCRIPCION?e.DESCRIPCION:e.OPC_DESCRI?e.OPC_DESCRI:e.descripcion?e.descripcion:e.DES_OCU?e.DES_OCU:e.DESC_OCU}</option>`)}
          </select>
          </div>`)):(i.tipo_pregunta=="C"||i.tipo_pregunta=="M")&&(i.tipo_dato=="D"&&$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
		<input type="date" class="form-control py-4 js-change-credit required-ocup" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
		</div>`),i.tipo_dato=="V"&&(i.modal=="EMPRESA"?$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${infoUser.ocupacion=="3"?"FONDO DE PENSIONES":i.descripcion}*</label>
            <input type="text" class="form-control py-4 js-change-credit required-ocup" name="${i.campo_guardar}" onclick="buscarEmpresa()" placeholder="${infoUser.ocupacion=="3"?"NOMBRE DE LA EMPRESA":i.descripcion}" style="text-transform:uppercase;" required>
            </div>`):$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
            <input type="text" class="form-control py-4 js-change-credit required-ocup" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
            </div>`)),i.tipo_dato=="N"&&$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
		<input type="number" class="form-control py-4 js-change-credit required-ocup" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
		</div>`),i.tipo_dato=="E"&&$("#inf-ocp").append(`<div class="form-group"><label class="text-input">${i.nombre_mostrar}*</label>
		<input type="email" class="form-control py-4 js-change-credit required-ocup" name="${i.campo_guardar}" placeholder="${i.nombre_mostrar}" style="text-transform:uppercase;" required>
		</div>`)))}),document.querySelectorAll(".js-change-credit").forEach(e=>{e.addEventListener("change",e2=>{let obj={[e2.target.name.toLowerCase()]:e2.target.value};hambleChange(obj)})})},form_dinamico_retry=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.success?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)}),userRed=()=>{$(".js-steps4check").remove(),$(".js-steps3check").remove(),$("#step-one-data").remove(),$(".js-steps5check").show()},optionGetSave=async(dataService,protocolo)=>{const barrioSelect=await barrios.filter(i=>i.codigo==dataService.barrio);let doctype=1;infoUser.typeDocument=="NT"&&(doctype=2),infoUser.typeDocument=="22"&&(doctype=4);let params={CEDULA:infoUser.cc,DIRECCION:dataService.dirrecion,CODIGO_DEPARTAMENTO:dataService.departament,CODIGO_CIUDAD:dataService.city,NOMBRE_BARRIO:barrioSelect[0].descripcion,ESTRATO:barrioSelect[0].zonaestrato,protocolo,doc_type:doctype,primer_apellido:infoUser.primer_apellido?.toUpperCase(),georeferenciador:2};const paramArray=Object.entries(params);var paramList=[];paramArray.forEach(([key,value])=>{paramList.push(`${key}=${value}`)});const list=paramList.join("&");return(await(await fetch("https://3q79hb4ec8.execute-api.us-east-1.amazonaws.com/prod?"+list)).json()).respuesta},getMethodTwo=(agencia,objUserInfo2)=>{let obj={correo:objUserDataCheck.email,primer_apellido:objUserDataCheck.first_last_name,primer_nombre:objUserDataCheck.first_name,segundo_nombre:objUserDataCheck.middle_name,segundo_apellido:objUserDataCheck.second_last_name,ocupacion:objUserDataCheck.occupation,celular:objUserDataCheck.cellphone,tipo_doc:objUserDataCheck.document_type,cedula:infoUser.cc,agencia_seleccionada:agencia,actividad_cargo:objUserDataCheck.activity_charge,ingresos:0,canal_venta:"distancia",usuario:usuarioApi,programa:"TARJPN",internal_id:infoUser.n_ide,Dir:objUserInfo2.dirrecion,Dep:objUserInfo2.departament,Mun:objUserInfo2.city,Bar:objUserInfo2.barrio,CountryCode:null,Address:null,City:null,District:null,LongLabel:null,MatchAdr:null,Postal:null,Region:null,ShortLabel:null,SubRegion:null,Latitud:null,Longitud:null,Pais:"01",NuevoModTarj:"S",tipo_doc_desc:objUserDataCheck.typeDocument_desc},canal_v="distancia";fetch(`${Endpoint.pyVisorApi}/JA/cliente/${infoUser.cc}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(obj)}).then(data=>data.json()).then(info=>{console.log("Modo E"),$("#formStepTwo").addClass("d-none"),$("#formStepThee").addClass("d-none"),$(".modalLoading").remove(),infoUser={...infoUser,...info},info.mostrar_mensaje==="S"?(document.getElementById("txt-error").innerHTML=infoUser.msn_error,$(".js-steps1check").addClass("display-none"),$(".js-steps2check").addClass("display-none"),$(".js-steps2check").css("display",""),$(".js-steps3check").addClass("display-none"),$(".js-steps4check").addClass("display-none"),$(".js-steps_error_visor").removeClass("display-none"),$(".modalLoading").remove()):info.viable=="VERDE"?(info.estrategia=="AMARILLO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-amarillo").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-amarillo-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-amarillo").prepend(`${infoUser.n_ide}`),$(".js-steps_yellow_2").removeClass("display-none"),$(".modalLoading").remove()),info.estrategia=="NARANJA"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-orange").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-orange-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-orange").prepend(`${infoUser.n_ide}`),$(".js-steps_orange").removeClass("display-none"),$(".modalLoading").remove()),info.estrategia=="AZUL"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-blue").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-blue-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-blue").prepend(`${infoUser.n_ide}`),$(".js-steps_blue").removeClass("display-none"),$(".modalLoading").remove()),info.estrategia=="SIN ESTRATEGIA"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-sinsegmento").prepend(`${infoUser.primer_nombre}`),$(".js-steps_71").removeClass("display-none"),$(".modalLoading").remove())):info.viable=="AMARILLO"?($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$(".js-steps_yellow").removeClass("display-none"),$(".modalLoading").remove()):info.viable=="ROJO"?($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps4check").addClass("d-none"),$(".js-steps_red").removeClass("display-none"),$(".modalLoading").remove()):info.viable==""?($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps4check").addClass("d-none"),$("#primer-nombre-incoloro").append(`${infoUser.primer_nombre}`),$(".js-steps_green").removeClass("display-none"),$(".modalLoading").remove()):info.mostrar_mensaje=="S"?(document.getElementById("txt-error").innerHTML=infoUser.msn_error,$(".js-steps1check").addClass("display-none"),$(".js-steps2check").addClass("display-none"),$(".js-steps2check").css("display",""),$(".js-steps3check").addClass("display-none"),$(".js-steps4check").addClass("display-none"),$(".js-steps_error_visor").removeClass("display-none"),$(".modalLoading").remove()):($(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps4check").addClass("d-none"),$(".js-steps_error").removeClass("display-none"),$(".modalLoading").remove())}).catch(e=>{$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})};var objUserInfo={};document.getElementById("formStepOne")?.addEventListener("submit",event2=>{event2.preventDefault();let nombreUno=$("#nombreUno").val(),nombreDos=$("#nombreDos").val(),apellidoUno=$("#apellidoUno").val(),apellidoDos=$("#apellidoDos").val();if(nombreUno==""&&alert("El campo de primer nombre esta vacio"),apellidoUno==""&&alert("El campo de primer apellido esta vacio"),nombreUno!=""&&apellidoUno!=""){objUserInfo.nombreUno=nombreUno,objUserInfo.nombreDos=nombreDos,objUserInfo.apellidoUno=apellidoUno,objUserInfo.apellidoDos=apellidoDos,objUserInfo.departament=$("#departamentSelect").val(),objUserInfo.city=$("#selectCities").val(),objUserInfo.barrio=$("#barrioSelect").val();let dirreccionser=$("#typeDirection").val()+" "+$("#extraOne").val()+" "+$("#extraTwo").val()+" "+$("#extraThee").val();console.log(dirreccionser),objUserInfo.dirrecion=dirreccionser,console.log(objUserInfo),$("#formStepOne").removeClass("d-block"),$("#formStepOne").addClass("d-none"),$("#formStepTwo").removeClass("d-none"),window.location.hash="#formStepTwo"}}),$("#departamentSelect").change(async()=>{const departamento=$("#departamentSelect").val(),dataDep=await getDataNueva(departamento);console.log("dataDep",dataDep),dataDep==""?(console.log("check 1"),objUserDataCheck.typeUserService=1):dataDep.C_AGR==""?(console.log("check 2"),objUserDataCheck.typeUserService=2):(console.log("check 3"),infoUser.UserServiceAgr=dataDep.C_AGR,objUserDataCheck.typeUserService=3)}),document.getElementById("formStepTwo")?.addEventListener("submit",async event2=>{if(console.log("PASO DOS"),event2.preventDefault(),$("#emploSelect").val()!=null&&$("#Ingresos").val()!=""){$(".js-steps2check").css("display",""),objUserInfo.emplo=$("#emploSelect").val(),objUserInfo.ingreso=$("#Ingresos").val(),loadings("\xA1La espera valdr\xE1 la pena!","Este proceso no tardar\xE1 m\xE1s de un minuto","Estamos validando la informaci\xF3n para ayudarte con tus muebles so\xF1ados.","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_4_1.png?v=1636321265");let agencia;if(objUserDataCheck.typeUserService==2){let dataResponse=await optionGetSave(objUserInfo,1);try{agencia=JSON.parse(dataResponse)[0].CODIGO_AGENCIA}catch(error){console.log(error)}(agencia==null||agencia=="")&&(dataResponse=await optionGetSave(objUserInfo,2),agencia=JSON.parse(dataResponse)[0].CODIGO_AGENCIA,(agencia==null||agencia=="")&&(agencia="81")),await getMethodTwo(agencia,objUserInfo)}else objUserDataCheck.typeUserService==3?await getMethodTwo(infoUser.UserServiceAgr,objUserInfo):objUserDataCheck.typeUserService==1&&await getMethodTwo(agencia,objUserInfo)}});const messagesSegement=msj=>{$("#text-segment").text(msj)},validateFirshForm=()=>{let obj={typeDocument:0,cc:0,email:"",tel:0};return document.querySelector(".js-step-1-form")?.addEventListener("click",async event2=>{if(console.log("EVENT CLICK SELECTOR js-step-1-form"),$("#input-cedula").val()!=""&&$("#input-email").val()!=""&&$("#input-celular").val()!=""&&$("#typeDocumentSelect").val()!=null&&!/\.|,/gm.test($("#input-cedula").val())){var validateType=0;if($("#input-cedula").val().length>=5&&$("#input-cedula").val().length<=10?validateType=validateType+1:alert(" Error al ingresar la cedula: debe ser de 5 a 10 caracteres "),validateEmail($("#input-email").val())==!0?validateType=validateType+1:alert(" Se requiere un Email valido "),$("#input-celular").val().length>=7&&$("#input-celular").val().length<=10?validateType=validateType+1:alert(" Error al ingresar el tel\xE9fono: debe ser de 7 a 10 caracteres "),document.getElementById("terminos").checked?validateType=validateType+1:document.getElementById("terminos").setCustomValidity("Por favor, indique que acepta los T\xE9rminos y Condiciones"),document.getElementById("tratamientoDatos").checked?validateType=validateType+1:document.getElementById("tratamientoDatos").setCustomValidity("Por favor, indique que acepta la Pol\xEDtica de Tratamiento de Datos"),document.getElementById("centralesRiesgo").checked?validateType=validateType+1:document.getElementById("centralesRiesgo").setCustomValidity("Por favor, indique que acepta la Consulta a Centrales de Riesgo"),document.getElementById("firmaElectronica").checked?validateType=validateType+1:document.getElementById("firmaElectronica").setCustomValidity("Por favor, indique que acepta el Acuerdo de Firma Electr\xF3nica"),console.log(validateType),validateType==7)return loadings("\xA1La espera valdr\xE1 la pena!","Este proceso no tardar\xE1 m\xE1s de un minuto...","","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/ilustracion-pantalla-de-espera.svg?v=1708128234"),console.log("EVENT CLICK SELECTOR STEP1"),obj.typeDocument=document.getElementById("typeDocumentSelect").value,obj.cc=document.getElementById("input-cedula").value,obj.email=document.getElementById("input-email").value,obj.tel=document.getElementById("input-celular").value,infoUser=await userDataOne(obj.cc,obj.typeDocument),infoUser={...infoUser,...obj},$("#first-name-error-whatsapp").prepend(`${infoUser.primer_nombre}`),infoUser.codeStatus==200||infoUser.codeStatus==201||infoUser.codeStatus==202?infoUser.mostrar_mensaje==="S"?(document.getElementById("txt-error").innerHTML=infoUser.msn_error,$(".js-steps1check").addClass("display-none"),$(".js-steps2check").addClass("display-none"),$(".js-steps2check").css("display",""),$(".js-steps3check").addClass("display-none"),$(".js-steps4check").addClass("display-none"),$(".js-steps_error_visor").removeClass("display-none"),$(".modalLoading").remove()):infoUser.salida=="CONOCIDO"?infoUser.viable=="ROJO"?(infoUser.segmento=="ORO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps4check").addClass("display-none"),$(".js-steps_gold").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PORO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="CLIENTE NUEVO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PEJEMPLAR"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="POTROS CREDITO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_63").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="EJEMPLAR"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PRENTABLE"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="RENTABLE"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="OTROS CREDITO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_63").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="SIN SEGMENTO"&&($(".js-steps1check").addClass("display-none"),$(".js-steps3check").addClass("display-none"),$(".js-steps_red_61").removeClass("display-none"),$(".modalLoading").remove())):infoUser.viable=="VERDE"?(infoUser.segmento=="ORO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-oro").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-oro-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-oro").prepend(`${infoUser.n_ide}`),$(".js-steps_74").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PORO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-rentable").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-rentable-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-rentable").prepend(`${infoUser.n_ide}`),$(".js-steps_73").removeClass("display-none"),$(".modalLoading").remove(),console.log("desktop")),infoUser.segmento=="CLIENTE NUEVO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-ejemplar").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-ejemplar-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-ejemplar").prepend(`${infoUser.n_ide}`),$(".js-steps_72").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PEJEMPLAR"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-ejemplar").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-ejemplar-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-ejemplar").prepend(`${infoUser.n_ide}`),$(".js-steps_72").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="POTROS CREDITO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps_red_63").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="EJEMPLAR"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-ejemplar").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-ejemplar-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-ejemplar").prepend(`${infoUser.n_ide}`),$(".js-steps_72").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="PRENTABLE"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-ejemplar").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-ejemplar-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-ejemplar").prepend(`${infoUser.n_ide}`),$(".js-steps_72").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="RENTABLE"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-ejemplar").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-ejemplar-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-ejemplar").prepend(`${infoUser.n_ide}`),$(".js-steps_72").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="OTROS CREDITO"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps_red_63").removeClass("display-none"),$(".modalLoading").remove()),infoUser.segmento=="SIN SEGMENTO"&&(infoUser.estrategia=="AMARILLO"&&(console.log("Estrategia:",infoUser.estrategia),$(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-amarillo").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-amarillo-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-amarillo").prepend(`${infoUser.n_ide}`),$(".js-steps_yellow_2").removeClass("display-none"),$(".modalLoading").remove()),infoUser.estrategia=="NARANJA"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-orange").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-orange-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-orange").prepend(`${infoUser.n_ide}`),$(".js-steps_orange").removeClass("display-none"),$(".modalLoading").remove()),infoUser.estrategia=="AZUL"&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-blue").prepend(`${infoUser.primer_nombre}`),$("#primer-nombre-blue-overlay").prepend(`${infoUser.primer_nombre}`),$("#cedula-blue").prepend(`${infoUser.n_ide}`),$(".js-steps_blue").removeClass("display-none"),$(".modalLoading").remove()),(infoUser.estrategia=="SIN ESTRATEGIA"||infoUser.estrategia=="")&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps5check").addClass("d-none"),$("#primer-nombre-sinsegmento").prepend(`${infoUser.primer_nombre}`),$(".js-steps_71").removeClass("display-none"),$(".modalLoading").remove()))):infoUser.viable=="AMARILLO"?($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps_yellow").removeClass("display-none"),$(".modalLoading").remove()):infoUser.viable==""&&($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$("#primer-nombre-incoloro").append(`${infoUser.primer_nombre}`),$(".js-steps_green").removeClass("display-none"),$(".modalLoading").remove()):infoUser.salida=="NUEVO"?($(".modalLoading").remove(),$(".js-steps1check").hide(),$(".js-steps2check").show(),$("#formStepOne").removeClass("d-none")):($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()):($(".js-steps1check").addClass("d-none"),$(".js-steps3check").addClass("d-none"),$(".js-steps2check").addClass("d-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()),obj}else alert("Valida que todos los datos esten llenos")}),obj},getCredijamar=async()=>{const documentos=await getDocType(),cuotas=await getFees(),userData=validateFirshForm(),cuotaSeleccionada=obtenerCarrito()[0].dues;documentos.forEach(i=>{$("#typeDocumentSelect").append(`<option value="${i.TIPO}">${i.DES}</option>`)}),$("#typeDocumentSelect option[value='CC']").attr("selected",!0),cuotas.forEach(i=>{i.CUOTAS==cuotaSeleccionada?$("#nroCuotas").append(`<option value="${i.CUOTAS}" selected="selected">${i.CUOTAS}</option>`):$("#nroCuotas").append(`<option value="${i.CUOTAS}">${i.CUOTAS}</option>`)})};$(".custom-selectbox #day").on("click",function(e){return $(this).parent().toggleClass("open"),!1}),$(".limpiar-cart-credito").click(()=>limpiarCarritoCredito());var elementoDocumento=document.getElementById("car-credit");elementoDocumento&&(getOcupaciones().then(data=>{data.forEach(i=>{$("#emploSelect").append(`<option value="${i.cod_ocu}">${i.des_ocu}</option>`)})}),getDepartamentosEnvio().then(data=>{data.forEach(i=>{$("#departamentSelect, #departamentSelectE").append(`<option value="${i.C_DPTO}">${i.NOMBRE}</option>`)})}),getTypeDirection().then(data=>{data.forEach(i=>{$("#typeDirection, #typeDirectionE").append(`<option value="${i.cod}" >${i.descripcion}</option>`)})}),getTypeCuadra().then(data=>{data.forEach(i=>{$("#typeCalle, #typeCalleE").append(`<option value="${i.cod}" >${i.descripcion}</option>`)})}),getTypeHouse().then(data=>{data.forEach(i=>{$("#typeHouse, #typeHouseE").append(`<option value="${i.cod}" >${i.descripcion}</option>`)})}));var cc="",objUserDataCheck={origen:"Ecommerce",first_name:"",middle_name:"",cellphone:"",email:"",first_last_name:"",second_last_name:"",department:"",city:"",occupation:"",activity_charge:"",neighborhood:"",address:"",internal_id:"",segment:"SIN SEGMENTO",document_type:"CC",typeUserService:1,creacion_op:"NO",precalificacion:"NO",become:"NO",desmaterializacion:"NO",autorizador:"NO",calendario_entrega:"NO",actualizar_entrega:"NO",calendario_armado:"NO",actualizar_armado:"NO",aprobador:"NO"};let typeCalles="",adressOne="",adressTwo="",adressThee="",adressFour="",adressFive="",adressSix="",adressSeven="",completeDirection="";$("#typeDirection, #typeDirectionE").change(e=>{typeCalles=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#extraOne, #extraOneE").change(e=>{adressOne=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#extraTwo, #extraTwoE").change(e=>{adressTwo=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#extraThee, #extraTheeE").change(e=>{adressThee=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#typeCalle, #typeCalleE").change(e=>{adressFour=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#typeCalleComplete, #typeCalleCompleteE").change(e=>{adressFive=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#typeHouse, #typeHouseE").change(e=>{adressSix=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#typeHouseComplete, #typeHouseCompleteE").change(e=>{adressSeven=e.target.value,completeDirection=typeCalles+" "+adressOne+" "+adressTwo+" "+adressThee+" "+adressFour+" "+adressFive+" "+adressSix+" "+adressSeven,$("#dirrecion").val(completeDirection),objUserDataCheck.address=completeDirection}),$("#validaDirrecion").click(()=>{completeDirection.length<=10||$("#typeDirection").val()==null||$("#extraOne").val()==""||$("#extraTwo").val()==""||$("#extraThee").val()==""?alert("por favor llenar campo de dirrecion bien"):($("#formStepTwo").removeClass("d-block"),$("#formStepTwo").addClass("d-none"),$("#formStepThee").removeClass("d-none"),fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/form22/complete`,{method:"PUT"}))}),$("#nextOne").click(()=>{$("#formStepOne").removeClass("d-block"),$("#formStepOne").addClass("d-none"),$("#formStepTwo").removeClass("d-none"),$("#formStepTwo").addClass("d-block"),fetch(`${Endpoint.tarjetizacionColApi}/JA/client/${localStorage.getItem("clientId")}/form21/complete`,{method:"PUT"})}),$("#nextTwo").click(()=>{$("#formStepTwo").addClass("d-none"),$("#formStepThee").removeClass("d-none")}),$("#input-cedula").change(e=>{cc=e.target.value}),$("#input-celular").change(e=>{objUserDataCheck.cellphone=e.target.value}),$("#input-email").change(e=>{objUserDataCheck.email=e.target.value}),$("#nombreUno, #nombreUnoE").change(e=>{objUserDataCheck.first_name=e.target.value}),$("#nombreDos, #nombreDosE").change(e=>{objUserDataCheck.middle_name=e.target.value}),$("#apellidoUno, #apellidoUnoE").change(e=>{objUserDataCheck.first_last_name=e.target.value}),$("#apellidoDos, #apellidoDosE").change(e=>{objUserDataCheck.second_last_name=e.target.value}),$("#departamentSelect, #departamentSelectE").change(e=>{objUserDataCheck.department=e.target.value,getCiudad(e.target.value).then(data=>{$("#selectCities, #selectCitiesE").html('<option selected value="">selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#selectCities, #selectCitiesE").append(`<option value="${i.codigo}">${i.descripcion}</option>`)})})}),$("#selectCities, #selectCitiesE").change(e=>{objUserDataCheck.city=e.target.value,getbarios(objUserDataCheck.department,e.target.value).then(data=>{$("#barrioSelect, #barrioSelectE").html('<option selected value="">selecciona una opci\xF3n</option>'),data.forEach(i=>{$("#barrioSelect, #barrioSelectE").append(`<option value="${i.codigo}" data-estrato="${i.zonaestrato}" >${i.descripcion}</option>`)})})}),$("#barrioSelect, #barrioSelectE").change(e=>{console.log("chao"),objUserDataCheck.neighborhood=e.target.value}),document.querySelector("#emploSelect")?.addEventListener("change",e=>{objUserDataCheck.occupation=e.target.value,console.log("ocupacion",objUserDataCheck.occupation),renderActivities(objUserDataCheck.occupation)}),document.querySelector("#activitySelect")?.addEventListener("change",e=>{objUserDataCheck.activity_charge=e.target.value}),document.getElementById("typeDocumentSelect")?.addEventListener("change",function(){console.log(this.options[this.selectedIndex].text),objUserDataCheck.typeDocument_desc=this.options[this.selectedIndex].text}),document.getElementById("departamentSelectE")?.addEventListener("change",function(){console.log(this.options[this.selectedIndex].text),infoUser.departament_desc=this.options[this.selectedIndex].text}),document.getElementById("selectCitiesE")?.addEventListener("change",function(){console.log(this.options[this.selectedIndex].text),infoUser.city_desc=this.options[this.selectedIndex].text}),document.getElementById("barrioSelectE")?.addEventListener("change",function(){console.log("hola"),infoUser.neighborhood_desc=this.options[this.selectedIndex].text});function changeLinkCart(){var validateCart=JSON.parse(localStorage.getItem("crdCar"));validateCart!=null&&validateCart.length>=1&&$(".js-top-options-bar-cart .main-header__cart-icon").attr("href","/pages/car-credit")}function removeItemCredito(sku){var validateCart=JSON.parse(localStorage.getItem("crdCar"));const cartFilter=validateCart.filter(i=>i.sku!=sku);localStorage.setItem("crdCar",JSON.stringify(cartFilter)),window.location.href="https://www.jamar.com/pages/car-credit"}function validateOutlet(){typeof productSkuUtm<"u"&&(arrayProductoOutlet.filter(i=>i==parseInt(productSkuUtm)).length>=1?(showContado(),$("#row-precio-credito").remove()):(isFamiliasFelices=!1,$("#row-oferta").remove()),arrayMasBarratos.filter(i=>i==productSkuUtm).length>=1&&$("#row-precio-contado").remove())}function getBlogData(){return new Promise((resolve,reject)=>{fetch("https://blog.jamar.com/wp-json/wp/v2/posts?per_page=3").then(data=>data.json()).then(data=>resolve(data)).catch(e=>reject(e))})}function writingPostBlog(){getBlogData().then(data=>{data.forEach((i,index)=>{fetch(`https://blog.jamar.com/wp-json/wp/v2/media/${i.featured_media}`).then(data2=>data2.json()).then(data2=>{let fecha=new Date(i.date);index==0?$("#containerBlog").append(`
				<div class="height-img-blog">
                    <a target="_blank" href="${i.link}">
                      <img src="${data2.source_url}" alt="${i.title.rendered}">
                      <div class="text-blog py-3 px-3">
                        <h3 class="py-2 m-0"><a target="_blank" href="${i.link}">${i.title.rendered}</a></h3>
						<span class="pt-2 d-block">${fecha.getDate()+"/"+(fecha.getMonth()+1)+"/"+fecha.getFullYear()}</span>
                      </div>
                    </a>
                  </div>
			`):$("#containerBlogTwo").append(`
				<div class="col-md-12 px-0 pr-md-3 pl-md-0 pb-md-3 mb-5 mb-md-0">
                  <div class="mini-img-blog">
                    <a target="_blank" href="${i.link}">
                      <img src="${data2.source_url}" alt="${i.title.rendered}">
                      <div class="text-blog py-3 px-3">
                        <h3 class="py-2 m-0"><a target="_blank" href="${i.link}">${i.title.rendered}</a></h3>
						<span class="pt-2 d-block">${fecha.getDate()+"/"+(fecha.getMonth()+1)+"/"+fecha.getFullYear()}</span>
                      </div>
                    </a>
                  </div>
                </div>
			`)})})}).catch(e=>{console.log(e)})}function topsPrices(){typeof listArrayTops<"u"&&(console.log(listArrayTops),listArrayTops.forEach(i=>{fetch(`https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/prices?skus=${i}&agency=01&type=CO&project_id=01`).then(data=>data.json()).then(data=>{$(`#${i} .product-price-style`).text(`$ ${addCommas(data[0].ff_price)}`)}).catch(e=>{console.log("error -> ",e)})}))}function carrousellesCollections(){$(".carousels-infos").slick({slidesToShow:4,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),$(".top-semanas-products").slick({slidesToShow:3,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),$(".info-grid").slick({slidesToShow:3,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,infinite:!0,arrows:!0}}]}),$(".creditips").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,infinite:!0,dots:!1,arrowRight:!0,fade:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,dots:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,infinite:!0,dots:!0}}]})}const getStores=async dep=>await(await fetch("https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/departments-stores/?project_id=1")).json(),getDataStoreDep=async dep=>(await(await fetch(`https://3plmmfv3i1.execute-api.us-east-1.amazonaws.com/api/v1/departments-stores/?project_id=1&department=${dep}`)).json()).data,filterStores=async dep=>{const data=await getDataStoreDep(dep);$("#modvi__filter").remove(),$("#sectionStores").addClass("d-none"),$("#sectionStores2").removeClass("d-none");let dataresponse=data[0];renderStores12(dataresponse)},selectorBuscarTiendas=data=>{let $options='<option value="EligeD" selected>Elige tu departamento</option>';data.forEach(item=>$options+=`<option value="${item.C_DPTO}">${item.NOMBRE}</option>`),selectorDepartaments.innerHTML=$options};let selectorDepartaments=document.getElementById("claac__selectordepart");selectorDepartaments?.addEventListener("change",()=>{let temp=selectorDepartaments.value;temp=="EligeD"?($("#sectionStores").removeClass("d-none"),$("#sectionStores2").addClass("d-none")):filterStores(temp)});const renderStores=data=>{var template=Handlebars.compile($("#itemStore").html());data.forEach(item=>{item.NOMBRE==="CUNDINAMARCA"?item.NOMBRE="BOGOT\xC1":item.NOMBRE==="ANTIOQUIA"&&(item.NOMBRE="MEDELL\xCDN"),item.STORES.map((x,index)=>{(x.NOM_CORTO=="Ensue\xF1o"||x.NOM_CORTO=="B/Manga Centro")&&(x.NOM_CORTO=!1)});var htmlItem=template(item);$("#sectionStores").append(htmlItem)})},renderStores12=data=>{var template=Handlebars.compile($("#itemStore12").html());data.STORES.map((x,index)=>{(x.NOM_CORTO=="Ensue\xF1o"||x.NOM_CORTO=="B/Manga Centro")&&(x.NOM_CORTO=!1)});var htmlItem=template(data);console.log(data,"aqui"),$("#sectionStores2").append(htmlItem)};async function renderOneStore(){let myvar=window.location.search.split("=");if(myvar.length>=1)try{let departament=myvar[1].split("&")[0],mitienda=myvar[2];getDataStoreDep(departament).then(data=>{const filterStroe=data[0].STORES.filter(i=>i.LINK_PAGE_STORE==mitienda);if(filterStroe.length>=1){const{CIU,DIR,HORARIOS,LINK_PAGE_GOOGLE,NOM,TEL,CODIGO_MAP_HTML}=filterStroe[0];$(".clasac_pos").html(`<a href="${LINK_PAGE_GOOGLE}" target="_blank" class="cta-direccion">
            <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/ubicacion-tienda.svg">
            <span class="clasac__direct">${DIR}</span>`),$(".clasac_tel").html(`<a href="tel:${TEL}" class="cta-telefono">
                                          <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/telefono-tienda.svg">
                                          <span class="clasac__telefono">${TEL}</span>
                                         </a>`),$(".clasac__horarios").html(`<img class="icon-horario" src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/horario-tienda.svg"> ${HORARIOS}`),$(".clasac__ubi__imagen").html(CODIGO_MAP_HTML)}}).catch(error=>{console.log(error)})}catch{}}async function mainStores(){if(document.getElementById("buscar_tiendas")!=null){const dataStore=await getStores();renderStores(dataStore.data),selectorBuscarTiendas(dataStore.data)}}const getcodStoreRef=async()=>{let dep=theme.department;return(await getDataStoreDep(dep))[0].TIENDA_REFERENCIA},getApiVAC=async()=>{let skuTemp=window.location.pathname.split("products/")[1];const apiProd="3plmmfv3i1",apiDev="0i6tp0h0uf";let refStore=await getcodStoreRef();return fetch(`https://${apiProd}.execute-api.us-east-1.amazonaws.com/api/v1/products/${productSkuUtm}/family?agency=${refStore}&project_id=1`).then(result=>result.json())},renderVariantSAC=async()=>{const info=await getApiVAC(),{aplica_nuevo_modelo,data}=info;let countTurns=0;const variantColor=color=>{$(".container-variant-color-product").append(`<div id="js_MinComp" class="d-none">
                                     <div class="row row-cols-1">
                                       <div class="col minComp_Container">
                                         <p class="closeMinComp"><strong>X</strong></p>
                                         <h4>Seleccionar color</h4>
                                         <hr>
                                       </div>

                                       <div class="col minComp_Container">
                                         <div class="minComp_Container__Color" id="miniComponente"></div>
                                       </div>
                                     </div>
                                    </div>`),color.forEach(element=>{const{id,url_color,url_siguiente,actual,color:color2,aplica,image_options}=element,templateColorSelect=`<div class="SAC__AcoTitBox js_closeColor"><p class="titulo__SAC">Color: <span>${color2}</span></p>
                                 <img src="${image_options?image_options.thumbnail:url_color}"alt="" class = "SAC__imgSmallColor d-none">
                                 <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/arrow-down.svg?v=1678214189" alt="" class = "SAC__imgPunFl"></div>
                                 <div class="contenedor__variantSAC__Color">
                                   <div class="contenedor__clustersColor markValidity">
                                     <a href="#"><img src="${image_options?image_options.thumbnail:url_color}"alt=""></a>
                                     <div class="tooltipColor"><img src="${image_options?image_options.thumbnail:url_color}"alt=""><span>${color2}</span></div>
                                   </div>
                                 </div>`,templateColorSelectMinComp=`<div class="contenedor__clustersColor markValidity">
                                          <a href="#"><img src="${image_options?image_options.thumbnail:url_color}"alt=""></a>
                                          <div class="tooltipColor"><img src="${image_options?image_options.thumbnail:url_color}"alt=""><span>${color2}</span></div>
                                        </div>`,templateColorAvabi=`<div class="contenedor__clustersColor">
                                  <a href="${url_siguiente}"><img src="${image_options?image_options.thumbnail:url_color}"alt=""></a>
                                  <div class="tooltipColor"><img src="${image_options?image_options.thumbnail:url_color}"alt=""><span>${color2}</span></div>
                                </div>`,templateColorNotAvabi=`<div class="contenedor__clustersColor">
                                     <div class="notAvabi"></div>
                                     <a href="#" style="cursor: default;"><img src="${image_options?image_options.thumbnail:url_color}"alt="" class="img__SAC"></a>
                                   </div>`;countTurns<=3?(actual=="Si"?($(".contenedor__portColor").append(templateColorSelect),$("#miniComponente").append(templateColorSelectMinComp)):actual=="No"&&(aplica=="Si"?$(".contenedor__variantSAC__Color, #miniComponente ").append(templateColorAvabi):aplica=="No"&&$(".contenedor__variantSAC__Color, #miniComponente ").append(templateColorNotAvabi)),countTurns++):actual=="No"&&(aplica=="Si"?$("#miniComponente ").append(templateColorAvabi):aplica=="No"&&$("#miniComponente ").append(templateColorNotAvabi))})},variantSize=tama\u00F1o=>{tama\u00F1o.forEach(element=>{let urlImgSize=(element.image_options,element.url_tama\u00F1o),size=element.tama\u00F1o;const{id,url_siguiente,actual,aplica}=element,templateSizeSelect=`<div class="SAC__AcoTitBox js_closeSize"><p class="titulo__SAC">Tama\xF1o: <span>${size}</span></p>
                                  <img src="https://cdn.shopify.com/s/files/1/0519/2695/8235/files/arrow-down.svg?v=1678214189" alt="" class = "SAC__imgPunFl"></div>
                                  <div class="contenedor__variantSAC__Size">
                                    <div class="contenedor__clustersSize markValidity">
                                      <a href="#"><img src="${urlImgSize}"alt=""></a><span>${size}</span>
                                    </div>
                                  </div>`,templateSizeAvabi=`<div class="contenedor__clustersSize">
                                  <a href="${url_siguiente}"><img src="${urlImgSize}"alt=""></a><span>${size}</span>
                                </div>`;actual=="Si"?$(".contenedor__portSize").append(templateSizeSelect):actual=="No"&&aplica=="Si"&&$(".contenedor__variantSAC__Size").append(templateSizeAvabi)})},botonMiniComponente=()=>{const abrir=document.querySelector("#viewMinComp"),closeAba=document.querySelector(".closeMinComp");abrir.addEventListener("click",()=>{$("#js_MinComp").removeClass("d-none")}),closeAba.addEventListener("click",()=>{$("#js_MinComp").addClass("d-none")})},AcordeonSAC=()=>{$(".js_closeColor").click(function(){$(".contenedor__variantSAC__Color").is(":hidden")?($(".contenedor__variantSAC__Color").slideDown(),$(".SAC__imgSmallColor").addClass("d-none"),$(".js_closeColor .SAC__imgPunFl").css("transform","rotate(0deg)")):($(".contenedor__variantSAC__Color").hide(),$(".SAC__imgSmallColor").removeClass("d-none"),$(".js_closeColor .SAC__imgPunFl").css("transform","rotate(180deg)"))}),$(".js_closeSize").click(function(){$(".contenedor__variantSAC__Size").is(":hidden")?($(".contenedor__variantSAC__Size").slideDown(),$(".js_closeSize .SAC__imgPunFl").css("transform","rotate(0deg)")):($(".contenedor__variantSAC__Size").hide(),$(".js_closeSize .SAC__imgPunFl").css("transform","rotate(180deg)"))})};if(aplica_nuevo_modelo=="Si"){$(".container-variant-color-product").removeClass("d-none"),$(".container-old-and-new-variant-product").removeClass("d-none");const{tama\u00F1o,color}=data;if(color){let countColor=color.length;variantColor(color);let totalColors=countColor-countTurns;totalColors!=0&&($(".contenedor__variantSAC__Color").append(`<div class="contenedor__clustersColor" id="viewMinComp">
                                                   <span>+${totalColors}</span>
                                                </div>`),botonMiniComponente()),$(".contenedor__portColor").removeClass("d-none")}else document.querySelector(".contenedor__portSize ").style.borderTop="solid 1px #F0F0F0";tama\u00F1o&&(variantSize(tama\u00F1o),$(".contenedor__portSize").removeClass("d-none")),AcordeonSAC()}};$(document).ready(function(){renderVariantSAC(),addImagesInCollection(),mainStores(),renderOneStore(),validateCreditCar(),addOfertas(),changeLinkCart(),validateOutlet(),showModalForms(),$("#fullscreen").click(function(){$("figure#fullimage-chat").addClass("fullscreen-slider"),$("figure#fullimage-chat div.slick-list").addClass("fullscreen-slider-content"),$("figure#fullimage-chat div.slick-list div.slick-track div.slick-slide img").addClass("img-slider-fullscreen"),$("figure#fullimage-chat").removeClass("fullscreen-slider-off"),$("figure#fullimage-chat div.slick-list").removeClass("fullscreen-slider-content-off"),$("figure#fullimage-chat div.slick-list div.slick-track div.slick-slide img").removeClass("img-slider-fullscreen-off"),$("#close-fullscreen").show()}),$("#close-fullscreen").click(function(){$("figure#fullimage-chat").addClass("fullscreen-slider-off"),$("figure#fullimage-chat div.slick-list").addClass("fullscreen-slider-content-off"),$("figure#fullimage-chat div.slick-list div.slick-track div.slick-slide img").addClass("img-slider-fullscreen-off"),$("figure#fullimage-chat").removeClass("fullscreen-slider"),$("figure#fullimage-chat div.slick-list").removeClass("fullscreen-slider-content"),$("figure#fullimage-chat div.slick-list div.slick-track div.slick-slide img").removeClass("img-slider-fullscreen"),$("#close-fullscreen").hide()}),$(".carousel-top").slick({slidesToShow:4,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("#sofas-promos").slick({slidesToShow:4,slidesToScroll:2,autoplay:!0,infinite:!0,dots:!1,arrows:!0,centerMode:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),topsPrices(),topsPrices(),carrousellesCollections(),window.location.pathname==="/pages/car-credit"&&getCredijamar()});const htmlValidate=document.getElementById("terminos-y-condiciones-de-servicio-al-cliente");htmlValidate!=null&&$(()=>{$(window).scroll(()=>{$(window).scrollTop()>=300?($("#menu-fijo-tyc").addClass("fixed_banner"),$("#sec-item-1").animate({paddingTop:220})):($("#menu-fijo-tyc").removeClass("fixed_banner"),$("#sec-item-1").animate({paddingTop:70}))})}),$("#item-1-tyc, #item-2-tyc, #item-3-tyc, #item-4-tyc, #item-5-tyc, #item-6-tyc").click(function(){var $anchor=$(this);$("html, body").stop().animate({scrollTop:$($anchor.attr("href")).offset().top},1e3),event.preventDefault()}),$("#item-1-tyc").click(function(){$("#item-1-tyc").removeClass("color-1-tyc"),$("#item-1-tyc").addClass("activo"),$("#item-2-tyc, #item-3-tyc, #item-4-tyc, #item-5-tyc, #item-6-tyc").removeClass("activo"),$("#item-2-tyc, #item-4-tyc, #item-6-tyc").addClass("color-2-tyc"),$("#item-3-tyc, #item-5-tyc").addClass("color-1-tyc")}),$("#item-2-tyc").click(function(){$("#item-2-tyc").removeClass("color-2-tyc"),$("#item-2-tyc").addClass("activo"),$("#item-1-tyc, #item-3-tyc, #item-4-tyc, #item-5-tyc, #item-6-tyc").removeClass("activo"),$("#item-4-tyc, #item-6-tyc").addClass("color-2-tyc"),$("#item-1-tyc, #item-3-tyc, #item-5-tyc").addClass("color-1-tyc")}),$("#item-3-tyc").click(function(){$("#item-3-tyc").removeClass("color-1-tyc"),$("#item-3-tyc").addClass("activo"),$("#item-1-tyc, #item-2-tyc, #item-4-tyc, #item-5-tyc, #item-6-tyc").removeClass("activo"),$("#item-2-tyc, #item-4-tyc, #item-6-tyc").addClass("color-2-tyc"),$("#item-1-tyc, #item-5-tyc").addClass("color-1-tyc")}),$("#item-4-tyc").click(function(){$("#item-4-tyc").removeClass("color-2-tyc"),$("#item-4-tyc").addClass("activo"),$("#item-1-tyc, #item-2-tyc, #item-3-tyc, #item-5-tyc, #item-6-tyc").removeClass("activo"),$("#item-2-tyc, #item-6-tyc").addClass("color-2-tyc"),$("#item-1-tyc, #item-3-tyc, #item-5-tyc").addClass("color-1-tyc")}),$("#item-5-tyc").click(function(){$("#item-5-tyc").removeClass("color-1-tyc"),$("#item-5-tyc").addClass("activo"),$("#item-1-tyc, #item-2-tyc, #item-4-tyc, #item-3-tyc, #item-6-tyc").removeClass("activo"),$("#item-2-tyc, #item-4-tyc, #item-6-tyc").addClass("color-2-tyc"),$("#item-1-tyc, #item-3-tyc").addClass("color-1-tyc")}),$("#item-6-tyc").click(function(){$("#item-6-tyc").removeClass("color-2-tyc"),$("#item-6-tyc").addClass("activo"),$("#item-1-tyc, #item-2-tyc, #item-3-tyc, #item-4-tyc, #item-5-tyc").removeClass("activo"),$("#item-2-tyc, #item-4-tyc").addClass("color-2-tyc"),$("#item-1-tyc, #item-3-tyc, #item-5-tyc").addClass("color-1-tyc")});let objVisor={tipo_doc:"CC",cedula:"123456",age_op:"01",c_age:"95",dep:"AT",mun:"BQ",bar:"0318",user:"ECOMMERCE",address:"CL 12 12 12",segmento:"ORO",cellphone:"3121231212",email:"notiena@gmail.com",primer_nombre:"PRUEBA 1",segundo_nombre:"111",primer_apellido:"PRUEBA 2",segundo_apellido:"2222"};function dispositivo(){let e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}function verifyMe(){let device=dispositivo();return device=="tablet"||device=="mobile"}function getTokenBecome(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.appVendedorOrderApi}/JA/become/link?origin=ecommerce`).then(data=>data.json()).then(data=>resolve(data.access_token)).catch(e=>reject(e))})}const obtenerCarrito=()=>{if(localStorage.getItem("crdCar")!=null)return JSON.parse(localStorage.getItem("crdCar"))};async function getDeliveryDate(productos){let body={body:{codigo_agencia:objVisor.c_age,departamento_despacho:objVisor.dep,ciudad_despacho:objVisor.mun,barrio_despacho:objVisor.bar,tipo_orden:"OP",productos:productos.map(elem=>({codigo_producto:elem.sku,cantidad_producto:""+elem.cantidad}))}};return(await fetch(`${Endpoint.appVendedorOrderApi}/JA/delivery-date`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(body)})).json()}async function initBecome(){const access_token=await getTokenBecome(),number=await getPhone(infoUser.tel);let button=document.getElementById("becomeElement");infoUser.userId=`${infoUser.n_ide}`+new Date().getTime(),button.src=`https://jamar.onboarding.becomedigital.net/?userId=${infoUser.userId}&contractId=6&accessToken=${access_token}&phoneNumberEnc=${number.phone}`,console.log("userId",infoUser.userId),window.addEventListener("message",function(message){let resp;try{resp=JSON.parse(message.data)}catch(error){if(error instanceof SyntaxError){let mensaje=error.message;console.log("ERROR EN LA SINTAXIS:",mensaje)}else throw error}resp?.action=="ID-1::userFinishedSdk"&&(console.log("userFinishedSdk"),objUserDataCheck.become="SI",console.log("Dejar continuar el flujo"),post_become(infoUser.userId).then(resp2=>{console.log("post_become",resp2,infoUser.userId),$(".js-stepsbecome").addClass("display-none"),$(".js-stepsfirma").removeClass("display-none"),window.location.hash="#js-stepsfirma",resp2.success&&resp2.status=="success"&&(infoUser.become=!0,infoUser.fecha_nac=resp2.birth,infoUser.uuid=resp2.uuid)}).catch(e=>{objUserDataCheck.become="ERROR: CONEXION BECOME",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()}),getCreateDocumentsList())})}function getCreateDocumentsList(){loadings("\xA1La espera valdr\xE1 la pena!","Este proceso no tardar\xE1 m\xE1s de un minuto","Estamos validando la informaci\xF3n para ayudarte con tus muebles so\xF1ados.","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_4_1.png?v=1636321265"),desmaterializar(infoUser.num,consultar_politicas(infoUser),!1,"",infoUser.uuid,!1).then(resp=>{console.log("Desmaterializar",resp),infoUser.idDocs=resp.num,createDocumentsList(infoUser.idDocs)})}const validarEstadoOP=url=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2).then(response=>response.json()).then(result=>{result.state=="FINISHED"||result.state=="ERROR"?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,7)});async function crearOP(){let productos=obtenerCarrito(),delivery_date=await getDeliveryDate(productos).catch(e=>console.log(e)),bodyOP={client:{address:objUserDataCheck.address,cellphone:infoUser.tel,cellphone1:null,cellphone2:null,city_code:objUserDataCheck.city,email:infoUser.email,first_name:objUserDataCheck.first_name,identification:`${infoUser.typeDocument}::${infoUser.n_ide}`,neighborhood_code:objUserDataCheck.neighborhood,second_name:objUserDataCheck.middle_name,second_surname:objUserDataCheck.second_last_name,state_code:objUserDataCheck.department,surname:objUserDataCheck.first_last_name},cart:productos.map(elem=>({sku:elem.sku,cantidad:""+elem.cantidad,dues:elem.dues})),dispatch:{address:objUserDataCheck.address,city_code:objUserDataCheck.city,neighborhood_code:objUserDataCheck.neighborhood,phone:infoUser.tel,state_code:objUserDataCheck.department,zone_code:"00"},agency_code:"C1",segmento:infoUser.segmento,delivery_date:delivery_date.data[0].Fecha!=""?delivery_date.data[0].Fecha:new Date().toLocaleDateString("en-CA"),departmentId:theme.departmentId||localStorage.getItem("departmentId")};return(await fetch(`${Endpoint.creacionOpApi}/JA/orders-ecommerce?type=D&country=01`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(bodyOP)})).json()}function pruebaOP(){$("#chat").attr("style","display: none !important"),crearOP().then(resp=>{infoUser.num=resp.num,console.log("OP",resp),validarEstadoOP(`${Endpoint.appVendedorOrderApi}/JA/oqueue-ecommerce/${infoUser.num}`).then(resp2=>{console.log("validarEstadoOP",resp2),resp2.success?(objUserDataCheck.creacion_op="SI",infoUser.agr=resp2.agr,infoUser.per=resp2.per,infoUser.nro_op=resp2.nro_op,console.log("paso"),infoUser.segmento=="ORO"||infoUser.segmento=="PORO"?($(".js-stepsSend").addClass("display-none"),$(".js-stepsbecome").removeClass("display-none"),window.location.hash="#js-stepsbecome",$(".modalLoading").remove()):getQuestion(),initBecome(),console.log("FORM DINAMICO")):($(".js-stepsSend").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove())}).catch(e=>{$(".js-stepsSend").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})})}document.getElementById("btn-ini-op")?.addEventListener("click",()=>{let nombreUno=$("#nombreUnoE").val(),apellidoUno=$("#apellidoUnoE").val();nombreUno==""&&alert("El campo de primer nombre esta vacio"),apellidoUno==""&&alert("El campo de primer apellido esta vacio"),loadings("\xA1La espera valdr\xE1 la pena!","Este proceso no tardar\xE1 m\xE1s de un minuto...","","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/ilustracion-pantalla-de-espera.svg?v=1708128234"),pruebaOP()}),document.getElementById("btn-ini-ocp")?.addEventListener("click",()=>{let invalid=0;$(".required-basic").each(function(){this.value==""&&invalid++}),invalid>0?console.log("Campos faltantes"):($(".js-steps10check").addClass("display-none"),$(".js-steps11check").removeClass("display-none"),window.location.hash="#js-steps11check")}),document.getElementById("btn-ini-become")?.addEventListener("click",()=>{let invalid=0;$(".required-ocup").each(function(){this.value==""&&invalid++}),invalid>0?console.log("Campos faltantes"):($(".js-steps11check").addClass("display-none"),$(".js-stepsbecome").removeClass("display-none"),window.location.hash="#js-stepsbecome",guardar_preguntas().then(resp=>{console.log("GUARDAR_PREGUNTAS",resp)}))}),document.getElementById("btn-ini-armado")?.addEventListener("click",()=>{loadings("Por favor, esp\xE9ranos un momento","Estamos buscando fechas para que recibas tus muebles lo m\xE1s pronto posible.","","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_6_1.png?v=1636321265"),infoUser.fechaEntrega=$(".appointment-dates__day--active").attr("data-fecha").replaceAll("'",""),sendFechaEntregaRetry(infoUser.fechaEntrega).then(resp=>{$(".js-stepsEntrega").addClass("display-none"),resp.status=="OK"?(objUserDataCheck.actualizar_entrega="SI",whatsappAPi(infoUser),loadings("\xA1La espera valdr\xE1 la pena!","Este proceso no tardar\xE1 m\xE1s de un minuto","Estamos validando la informaci\xF3n para ayudarte con tus muebles so\xF1ados.","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_4_1.png?v=1636321265"),findAppointmentArmed()):(objUserDataCheck.actualizar_entrega="Error: estatus de respuesta diferente a OK",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove())}).catch(resp=>{objUserDataCheck.actualizar_entrega="ERROR: No hubo conexion fecha de entrega",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})}),document.getElementById("btn-final")?.addEventListener("click",()=>{if(infoUser.dateArmed===void 0){Swal.fire({text:"Estimado cliente, por favor seleccione una fecha...",allowOutsideClick:!1});return}loadings("\xA1Ya casi terminamos!","Estamos agendando a nuestros expertos del armado para que tus muebles queden perfectos.","","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_68.png?v=1636321265"),sendFechaArmado().then(resp=>{$(".js-stepsArmado").addClass("display-none"),resp.calendar=="OK"?(objUserDataCheck.actualizar_armado="SI",whatsappAPi(infoUser),getApprove(infoUser.agr,infoUser.per,infoUser.nro_op,infoUser.n_ide,infoUser.age_est,infoUser.cod_est,"ECOMMERCE").then(resp2=>{resp2.ps_vcresultado?($(".js-steps_confi").removeClass("display-none"),window.location.hash="#js-steps_confi"):($(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp"),$(".modalLoading").remove()})):(objUserDataCheck.actualizar_armado="Error: Respuesta de calendario diferente a OK",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove())}).catch(resp=>{objUserDataCheck.actualizar_armado="ERROR: No hubo respuesta de sendFechaArmado",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})});function consultar_politicas(info_user){if(info_user.salida=="CONOCIDO"){if(info_user.viable=="VERDE"&&(info_user.segmento=="ORO"||info_user.segmento=="PORO"))return[1,4];if(info_user.viable=="VERDE"&&info_user.segmento=="SIN SEGMENTO"&&info_user.estrategia=="AMARILLO")return[1,2,3,4]}else return[1,2,3,4]}async function guardar_preguntas(){objUserDataCheck.department_rd=objUserDataCheck.department_rd||objUserDataCheck.department,objUserDataCheck.city_rd=objUserDataCheck.city_rd||objUserDataCheck.city,objUserDataCheck.neighborhood_rd=objUserDataCheck.neighborhood_rd||objUserDataCheck.neighborhood,objUserDataCheck.address_rd=objUserDataCheck.address.split(" ").splice(0,4).join(" "),objUserDataCheck.senas_rd=objUserDataCheck.address.split(" ").splice(4,8).join(" ");let pre_body={bar:objUserDataCheck.neighborhood,c_cab:objUserDataCheck.city,dep:objUserDataCheck.department,ciu:objUserDataCheck.city,c_pai:"01",dir:objUserDataCheck.address,sena:objUserDataCheck.senas_trabajo?objUserDataCheck.senas_trabajo:"",actividad_negocio:infoUser.actividad_cargo,ocupacion:infoUser.ocupacion,codigo_eps:objUserDataCheck.codigo_eps?objUserDataCheck.codigo_eps:"",eps_cotiza:objUserDataCheck.eps_cotiza?objUserDataCheck.eps_cotiza:"",fecha_tiempo_vivienda:myObjeCreditData.fecha_tiempo_vivienda,tipo_vivienda:myObjeCreditData.tipo_vivienda,ingresos_principales:myObjeCreditData.ingresos_principales?myObjeCreditData.ingresos_principales.toString():infoUser.ingresos.toString(),otros_ingresos:"",cod_ocu2:"",actividad_negocio2:"",cod_area:"",fecha_tiempo_servicio:"",tipo_contrato:"",dir_elect:myObjeCreditData.dir_elect?myObjeCreditData.dir_elect:infoUser.email,dir_clte:objUserDataCheck.address,fecha_nac:myObjeCreditData.fecha_nac,est_civil:myObjeCreditData.est_civil,sexo:myObjeCreditData.sexo,nro_hijos:myObjeCreditData.nro_hijos,c_emp:"JA",api_key:"d47c29cfdf8e2456ac678c51f9e4ddfa8ec577f64e98aa9e863399f6a10210d4",c_est:infoUser.cod_est,n_ide:infoUser.n_ide,c_agr:infoUser.age_est,ide:infoUser.typeDocument,valida_resp:"N",criterios:[],usuario:"ECOMMERCE",programa:"FABRICA",modulAccion:"FABRICA",apellido:infoUser.primer_apellido,valida_pol:"S",modulo:"0002",lugar_trabajo:"",direccion_residencial:{tipo_dir:"RD",dir:objUserDataCheck.address_rd,c_pais:"01",c_depto:objUserDataCheck.department_rd,c_mnpo:objUserDataCheck.city_rd,bar:objUserDataCheck.neighborhood_rd,sena:objUserDataCheck.senas_rd,nombre_tipo:"",est_dir:"A"},telefonos:{numero:Number.parseInt(infoUser.tel),ext:123,tipo:"CELULAR",primer_nombre:objUserDataCheck.first_name,segundo_nombre:objUserDataCheck.middle_name,primer_apellido:objUserDataCheck.first_last_name,segundo_apellido:objUserDataCheck.second_last_name,dep:objUserDataCheck.department,ciu:objUserDataCheck.city,parentesco:"",ubicacion:"MOVIL"},referencias:[{nomb_ref1:"",numero:objUserDataCheck.telefono_ref_1?objUserDataCheck.telefono_ref_1:""},{nomb_ref2:"",numero:""}]};pre_body={...pre_body,...myObjeCreditData},console.log("pre_body",pre_body);let body={params:pre_body};console.log("SAVE",body);let myHeaders=new Headers;return myHeaders.append("Content-Type","application/json"),await post_retry(`${Endpoint.precalificacionApi}/JA/client/saveAnswers`,{method:"POST",headers:myHeaders,body:JSON.stringify(body),redirect:"follow"})}const post_retry=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.success?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)}),post_retry_cors=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*1e3)};return fetch(url2,options).then(response=>response).then(result=>{result.status==200?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,3)}),post_retry_internal=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*1e3)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.internal_id?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)});async function desmaterializar(num,documentos,sign=!1,otp="",uuid="",finished,id=""){let body={Clientes:[{TipoDocumento:infoUser.typeDocument,Documento:infoUser.n_ide,NombreCliente:infoUser.primer_nombre,ApellidoCliente:infoUser.primer_apellido,CiudadDocumento:"",DepartamentoDocumento:"",Correo:infoUser.email,Telefono:infoUser.tel,IndicadorCodeudor:1}],cod_otp:otp,firma:sign?"SI":"NO",ciudad:infoUser.city_desc,ciudad_envio:infoUser.city_desc,cupo_ortogado:infoUser.cupo,direccion:objUserDataCheck.address,barrio:infoUser.neighborhood_desc,documentos};return await post_retry_desmaterializar(`${Endpoint.documentosApi}/JA/epik/desmaterializar/${num}${finished?`?id=${id}&`:"?"}aldeamos=1`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(body)})}const post_retry_desmaterializar=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.num||result.message=="Fall\xF3 la verificaci\xF3n"?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)}),validarEstadoDesmaterializar=url=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2).then(response=>response.json()).then(result=>{console.log(result),result.estado=="Pendiente"?reintentos("error"):resolve(result)}).catch(function(error){reintentos(error)})};return fetch_retry(url,8)});function createDocumentsList(codigo){$("#documents").empty(),validarEstadoDesmaterializar(`${Endpoint.documentosApi}/JA/epik/getDocuments?id=${codigo}`).then(resp=>{if(console.log(resp),resp.estado=="Visualizado"){objUserDataCheck.desmaterializacion="SI",whatsappAPi(infoUser);for(const key in resp)console.log(`${resp} Key ${key} Object ${resp[key]}`),key=="habeas_data"&&resp[key]!=null?createDocument("Habeas Data",resp.habeas_data,key):key=="contrato"&&resp[key]!=null?createDocument("Contrato",resp.contrato,key):key=="pagare"&&resp[key]!=null?createDocument("Pagar\xE9",resp.pagare,key):key=="anexo"&&resp[key]!=null&&createDocument("Orden de Pedido",resp.anexo,key)}else objUserDataCheck.desmaterializacion="Error: Estado de validarEstadoDesmaterializar diferente a Visualizado",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp";$(".modalLoading").remove()}).catch(e=>{objUserDataCheck.desmaterializacion="ERROR: No hubo conexion con validarEstadoDesmaterializar",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})}function createDocument(name,url,tipo){let checkbox=document.createElement("input");checkbox.type="checkbox",checkbox.name="array",checkbox.id=tipo,checkbox.value=tipo,checkbox.style="";let label=document.createElement("label");label.htmlFor=tipo;let link=document.createElement("a");link.href=url,link.innerHTML=`${name}`,link.target="_blank",link.className="text-desmaterializar",link.style="margin-left: 5px;",label.appendChild(link);let br=document.createElement("br");document.getElementById("documents")?.appendChild(checkbox),document.getElementById("documents")?.appendChild(label),document.getElementById("documents")?.appendChild(br)}var seleccion=!1;function selectAll(){seleccion=!seleccion;let boxes=document.documents.array.length,documents=document.getElementById("documents");for(var i=0;i<boxes;i++)seleccion?documents.array[i].checked=!0:documents.array[i].checked=!1}document.getElementById("documents")?.addEventListener("click",e=>{$("input[name='array']:checked").length==$("input[name='array']").length?$("#documentosSgte").prop("disabled",!1):$("#documentosSgte").prop("disabled",!0)});function manifiesto(){$("input[name='array']:checked").length==$("input[name='array']").length?$("#documentosSgte").prop("disabled",!1):Swal.fire({text:"Estimado cliente, por favor seleccione los documentos...",allowOutsideClick:!1})}const popOtp=()=>{Swal.fire({imageUrl:"https://cdn.shopify.com/s/files/1/0519/2695/8235/files/ilustracion-codigo.svg?v=1626288109",title:"Le enviaremos el c\xF3digo de confirmaci\xF3n al n\xFAmero de tel\xE9fono",showDenyButton:!0,confirmButtonText:"Ok",denyButtonText:"Cancelar",confirmButtonColor:"#2DD1C7",reverseButtons:!0,allowOutsideClick:!1}).then(result=>{result.isConfirmed?(async()=>(enviar_otp(infoUser.idDocs,infoUser.tel,infoUser.correo,infoUser.n_ide).then(e=>console.log(e)),codigoOTP().then(resp=>{console.log(resp)})))():result.isDenied&&Swal.close()})};async function codigoOTP(){const{value:codigo_otp}=await Swal.fire({input:"text",inputLabel:"Por favor ingrese el c\xF3digo enviado al n\xFAmero de telefono",showDenyButton:!0,denyButtonText:"Env\xEDar nuevo c\xF3digo",confirmButtonText:"Ok",input:"text",allowOutsideClick:!1,reverseButtons:!0,customClass:{denyButton:"btn-cancelar-op"},inputValidator:async value=>{if(!value)return"Usted necesita escribir algo!"},preDeny:()=>(enviar_otp(infoUser.idDocs,infoUser.tel,infoUser.correo,infoUser.n_ide).then(e=>{Swal.enableButtons()}),!1)});codigo_otp&&(console.log(codigo_otp),loadings("\xA1Ya casi terminamos!","Este proceso no tardar\xE1 m\xE1s de 30 segundos","Seguimos validando tu informaci\xF3n para que disfrutes de un cr\xE9dito desde 0% de inter\xE9s.","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_5.png?v=1636321265"),desmaterializar(infoUser.num,consultar_politicas(infoUser),!0,codigo_otp,infoUser.uuid,!0,infoUser.idDocs).then(resp=>{if(resp.message){Swal.fire({text:resp.message,allowOutsideClick:!1}),$(".modalLoading").remove();return}getDayDelivery(),validarEstadoDesmaterializar(`${Endpoint.documentosApi}/JA/epik/getDocuments?id=${infoUser.idDocs}`).then(resp2=>{loadings("\xA1Ya casi terminamos!","Este proceso no tardar\xE1 m\xE1s de 30 segundos","Seguimos validando tu informaci\xF3n para que disfrutes de un cr\xE9dito desde 0% de inter\xE9s.","https://cdn.shopify.com/s/files/1/0519/2695/8235/files/Frame_5.png?v=1636321265"),resp2.estado=="Finalizado"?(objUserDataCheck.desmaterializacion="SI",post_rebecome(infoUser.userId).then(resp3=>{console.log("post_become",resp3,infoUser.userId),resp3.success?resp3.status=="success"?(infoUser.fecha_nac=resp3.birth,infoUser.uuid=resp3.uuid,objUserDataCheck.become="SI",getAutorizador(infoUser.agr,infoUser.per,infoUser.nro_op,infoUser.n_ide,infoUser.age_est,infoUser.cod_est).then(resp4=>{resp4.success?resp4.message=="OK, APROBACION INMEDIATA "?(console.log("LLAMAR CITA ENTREGA"),objUserDataCheck.autorizador="SI",infoUser.noDeliveryDate?findAppointmentArmed():($(".js-stepsfirma").addClass("display-none"),$(".js-stepsEntrega").removeClass("display-none"),window.location.hash="#js-stepsEntrega")):(objUserDataCheck.autorizador="Error : Mensaje de post_rebecome diferente a OK, APROBACION INMEDIATA",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp"):(objUserDataCheck.autorizador="ERROR: post_rebecome failed",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp"),$(".modalLoading").remove()}).catch(e=>{objUserDataCheck.autorizador="ERROR: getAutorizador",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})):(objUserDataCheck.become="Error: Status de post_rebecome diferente a succes",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()):(objUserDataCheck.become="Error: post_rebecome failed",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove())}).catch(e=>{objUserDataCheck.become="ERROR: No hubo conexion con post_rebecome",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})):(objUserDataCheck.desmaterializacion="Error: Estado de validarEstadoDesmaterializar diferente a finalizado",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove())}).catch(e=>{objUserDataCheck.desmaterializacion="ERROR",whatsappAPi(infoUser),$(".js-stepsfirma").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp",$(".modalLoading").remove()})}))}document.querySelector(".btn-cancelar-op")?.addEventListener("click",e=>{Swal.disableButtons()});async function enviar_otp(idDocs="",celular,email,cedula){const aldeamosinfo={mobile:celular,email,otpid:cedula},response=await post_retry_cors(`${Endpoint.appVendedorOrderApi}/JA/aldeamos/otp`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(aldeamosinfo)});return console.log(response),response.json()}document.getElementById("documentosSgte")?.addEventListener("click",()=>{$("input[name='array']:checked").length==$("input[name='array']").length?popOtp():Swal.fire({text:"Estimado cliente, por favor seleccione los documentos...",allowOutsideClick:!1})});function getAutorizador(ageOp,periodo,nroOp,documento,ageEst,cEst){return new Promise((resolve,reject)=>{fetch(`${Endpoint.appVendedorOrderApi}/JA/autorizador?pe_vcAgeOp=${ageOp}&pe_vcPerOp=${periodo}&pe_vcNumOp=${nroOp}&pe_vcN_ide=${documento}&pe_vcAge_est=${ageEst}&pe_vcc_est=${cEst}`).then(response=>response.json()).then(data=>resolve(data)).catch(err=>reject(err))})}function getApprove(ageOp,periodo,nroOp,documento,ageEst,cEst,user){return new Promise((resolve,reject)=>{fetch(`${Endpoint.appVendedorOrderApi}/JA/autorizador/Approve?pe_vcAgeOp=${ageOp}&pe_vcPerOp=${periodo}&pe_vcNumOp=${nroOp}&pe_vcN_ide=${documento}&pe_vcAge_est=${ageEst}&pe_vcc_est=${cEst}&usuario=${user}`).then(response=>response.json()).then(data=>resolve(data)).catch(err=>reject(err))})}async function post_become(userId){let body={documento:infoUser.n_ide,age_est:infoUser.age_est,c_est:infoUser.cod_est,perop:infoUser.per,nro_op:infoUser.nro_op,celular:infoUser.tel,agencia_seleccionada:infoUser.agr,userId,usuario:"ECOMMERCE",programa:"ECOMMERCE"},myHeaders=new Headers;return myHeaders.append("Content-Type","application/json"),await post_retry_b(`${Endpoint.appVendedorOrderApi}/JA/become/result`,{method:"POST",headers:myHeaders,body:JSON.stringify(body),redirect:"follow"})}async function post_rebecome(userId){let body={documento:infoUser.n_ide,age_est:infoUser.age_est,c_est:infoUser.cod_est,perop:infoUser.per,nro_op:infoUser.nro_op,celular:infoUser.tel,agencia_seleccionada:infoUser.agr,userId,usuario:"ECOMMERCE",programa:"ECOMMERCE"},myHeaders=new Headers;return myHeaders.append("Content-Type","application/json"),await post_retry_become(`${Endpoint.appVendedorOrderApi}/JA/become/result`,{method:"POST",headers:myHeaders,body:JSON.stringify(body),redirect:"follow"})}const post_retry_b=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.success|!result.success?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)}),post_retry_become=(url,options)=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e4)};return fetch(url2,options).then(response=>response.json()).then(result=>{result.success?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,4)}),get_retry=url=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2).then(response=>response.json()).then(result=>{result.success?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)}),getDayDelivery=()=>{let producto=obtenerCarrito();var body={codigo_agencia:theme.departmentId||localStorage.getItem("departmentId"),departamento_despacho:objUserDataCheck.department,ciudad_despacho:objUserDataCheck.city,barrio_despacho:objUserDataCheck.neighborhood,tipo_orden:"OP",productos:producto.map(e=>({codigo_producto:e.sku,cantidad_producto:""+e.cantidad}))};fetch(`${Endpoint.credijamarApi}/JA/delivery-date`,{method:"POST",body:JSON.stringify(body),headers:{"Content-Type":"application/json"}}).then(response=>response.json()).then(data=>{objUserDataCheck.calendario_entrega="SI",whatsappAPi(infoUser),console.log(data.response.data[0].Fechas,"cambios verdaderos"),dates=data.response.data[0].Fechas,infoUser.noDeliveryDate=!1,dates==null&&(infoUser.noDeliveryDate=!0);const arryFechasShort=dates.slice(0,15);$("#calendary").html(`
		<ul id="appointment-dates" class="appointment-dates listasFechas">
				
			</ul>`);let currentMonth=arryFechasShort.map(a=>new Date(a.Fecha).getMonth());currentMonth=[...new Set(currentMonth)];var meses=new Array("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre");console.log(meses),currentMonth.forEach(c=>{console.log(c),$("#appointment-dates").append(`
			<li class="appointment-dates-month">
				<div id="cont-appointment-dates" class="cont-appointment-dates">
            		<a id="mes" style="display:block" class="appointment-dates__month uppercase">${meses[c]}</a>
						<ul id="container-fechas-${c}" class="container-fechas">`),arryFechasShort.forEach(i=>{console.log(i,"esta es la -->i");let diass=1,hoy=new Date(i.Fecha),ano=hoy.getFullYear(),mes=hoy.getMonth(),dia=hoy.getUTCDay();var diasSemana=new Array("Do","Lu","Ma","Mi","Ju","Vi","S\xE1");meses[mes]===meses[c]&&($(`#container-fechas-${c}`).append(`
                  <li class="myCmapo-${i.Fecha} listaarmado">
                      <a class="appointment-dates__day js-set-day" data-fecha="${i.Fecha}" data-jornada="1"><p class="day-name">${diasSemana[dia]}</p><p>${hoy.getUTCDate()}</p></a>
                  </li>
			 `),console.log(currentMonth,"si hay cambio"))})})}).catch(resp=>{objUserDataCheck.calendario_entrega="ERROR",whatsappAPi(infoUser),console.log(resp)})},findDates=obj=>(console.log("findDates"),fetch(`${Endpoint.appVendedorOrderApi}/JA/assembly-date-ecommerce/`,{method:"POST",body:JSON.stringify(obj),headers:{"Content-Type":"application/json",Accept:"*/*","Accept-Encoding":"gzip, deflate, br"}}).then(response=>response.json())),findAppointmentArmed=function(){console.log("findAppointmentArmed");let arrayProducts=obtenerCarrito().map(e=>({codigo_producto:e.sku,cantidad_producto:""+e.cantidad})),arraySkus=arrayProducts.map(item=>item.codigo_producto);fetch(`${Endpoint.appVendedorOrderApi}/JA/assembly-express/find`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({skus:arraySkus})}).then(data=>data.json()).then(data=>validateBuildable(data,arrayProducts)).catch(e=>{console.log("Error findAppointmentArmed:",e)})},validateBuildable=function(data,arrayProducts){console.log("validateBuildable");let armables=data.filter(elem=>elem.armable==="S"),isBuildable=!1;if(armables.length>0?(isBuildable=!0,objUserDataCheck.calendario_armado="SI",whatsappAPi(infoUser),$(".js-stepsArmado").removeClass("display-none"),window.location.hash="#js-stepsArmado"):(objUserDataCheck.calendario_armado="error: PRODUCTOS NO ARMABLES",whatsappAPi(infoUser),$(".modalLoading").remove(),getApprove(infoUser.agr,infoUser.per,infoUser.nro_op,infoUser.n_ide,infoUser.age_est,infoUser.cod_est,"ECOMMERCE").then(resp=>{console.log("getApprove"),resp.ps_vcresultado?(console.log("getApprove Aprobado"),objUserDataCheck.aprobador="SI",$(".js-steps_confi").removeClass("display-none"),window.location.hash="#js-steps_confi"):(console.log("getApprove Rechazado"),objUserDataCheck.aprobador="Error: ps_vcresultado",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp")}).catch(e=>{console.log("error getApprove:",e),objUserDataCheck.aprobador="ERROR",whatsappAPi(infoUser),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#whatsapp"})),isBuildable){let query={department:objUserDataCheck.department,city:objUserDataCheck.city,neighborhood:objUserDataCheck.neighborhood,dalivery_date:infoUser.fechaEntrega.replaceAll("-",""),products:arrayProducts};findDates(query).then(info=>{const arrayJ1=info.data[0].Fechas.filter(i=>i.Jornada==="J1"),arrayJ2=info.data[0].Fechas.filter(i=>i.Jornada==="J2");showCalendarArmed(arrayJ1,arrayJ2),$(".modalLoading").remove()}).catch(e=>{console.log("error findDates:",e),$(".modalLoading").remove(),$(".js-stepsArmado").addClass("display-none"),$(".js-steps_error_whatsapp").removeClass("display-none"),window.location.hash="#js-steps_error"})}},showCalendarArmed=function(arrayJ1,arrayJ2){const dates2=arrayJ1.length>arrayJ2.length?arrayJ1:arrayJ2;console.log("showCalendarArmed"),$("#calendary-armed").html('<ul id="appointment-dates-armed" class="appointment-dates listasFechas"></ul>');const currentMonth=[...new Set(dates2.map(elem=>elem.Fecha).map(date=>new Date(date)).map(date=>date.getMonth()))],arrayFechasShort=dates2.slice(0,10),meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];currentMonth.forEach(c=>{$("#appointment-dates-armed").append(`<li class="appointment-dates-month">
                                                    <div id="cont-appointment-dates-armed" class="cont-appointment-dates">
                                                        <a id="mes" style="display:block" class="appointment-dates__month uppercase">${meses[c]}</a>
                                                        <ul id="container-fechas-armed-${c}" class="container-fechas">`),arrayFechasShort.forEach(i=>{let hoy=new Date(i.Fecha),mes=hoy.getMonth(),dia=hoy.getUTCDay();const diasSemana=["Do","Lu","Ma","Mi","Ju","Vi","S\xE1"];meses[mes]===meses[c]&&($(`#container-fechas-armed-${c}`).append(`
              <li class="myCmapo-${i.Fecha} listaarmado">
                  <a class="appointment-dates__day js-set-day" data-fecha="${i.Fecha}" data-jornada="1"><p class="day-name">${diasSemana[dia]}</p><p>${hoy.getUTCDate()}</p></a>
              </li>`),$(`.myCmapo-${i.Fecha}`).click(async()=>{let primeraFecha=arrayJ1.filter(e=>e.Fecha===i.Fecha),segundaFecha=arrayJ2.filter(e=>e.Fecha===i.Fecha);$("#text-jornada").html(`<div class="jornada-select">
                                            <ul>
      				                                  <p class="horario">HORARIOS</p>
      					                                    <li class="lista-jornada">
                     		                                ${primeraFecha.length>=1?'<a class="menosClick js-set-day2" data-jornada="J1">Ma\xF1ana</a>':'<a class="desabilitado" disabled>Ma\xF1ana</a>'}
         						                                    ${segundaFecha.length>=1?'<a class="masClick js-set-day2" data-jornada="J2">Tarde</a>':'<a class="desabilitado" disabled>Tarde</a>'}
      					                                    </li>
						                                </ul>
						                            </div>`),$(".menosClick").click(e=>{e.preventDefault(),infoUser.dateArmed={fechaArmado:i.Fecha,jornada:"J1",CodRecurso:i.CodRecurso,Tecnico:i.Tecnico},console.log(infoUser.dateArmed)}),$(".masClick").click(e=>{e.preventDefault(),infoUser.dateArmed={fechaArmado:i.Fecha,jornada:"J2",CodRecurso:i.CodRecurso,Tecnico:i.Tecnico},console.log(infoUser.dateArmed)})}))}),$("#appointment-dates-armed").append("</ul></div></li>")}),$("#text-jornada").append('<div class="jornada-select"> Selecciona una fecha para visualizar horarios  </div>')};async function sendFechaEntregaRetry(date){return await post_retry_b(`${Endpoint.appVendedorOrderApi}/JA/${infoUser.agr}/orders/${infoUser.nro_op}/update-delivery-date?date=%27${date}%27`,{method:"PUT",redirect:"follow"})}async function buscarEmpresa(){console.log("BUSCAR EMPRESA");let empresas;const{value:empresa}=await Swal.fire({input:"text",inputLabel:"Escriba el nombre de la empresa",showCancelButton:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonColor:"#00abb0",cancelButtonColor:"#D8232A",inputValidator:async value=>{if(!value)return"Usted necesita escribir algo!";await get_empresa_retry(`${Endpoint.precalificacionApi}/JA/nits?data=${value}`).then(resp=>{resp.length>0?resp.forEach(e=>{let obj={[e.n_ide]:e.nom};empresas={...empresas,...obj}}):(infoUser.empresa="84636",$('input[name="EMPRESA"]').val("EMPRESA GENERICA TIPO 3/4"))}).catch(e=>{infoUser.empresa="84636",$('input[name="EMPRESA"]').val("EMPRESA GENERICA TIPO 3/4")})}});empresa&&empresas!==void 0&&await Swal.fire({title:"Resultado de la empresa",input:"select",inputOptions:empresas,inputPlaceholder:"Seleccione una empresa",showCancelButton:!0,allowOutsideClick:!1,reverseButtons:!0,confirmButtonColor:"#00abb0",cancelButtonColor:"#D8232A",inputValidator:value=>{if(!value)return"Usted necesita seleccionar una empresa";infoUser.empresa=value,$('input[name="EMPRESA"]').val($(".swal2-select option:selected").text())}})}const get_empresa_retry=url=>new Promise((resolve,reject)=>{let intentos=1;const fetch_retry=(url2,n)=>{const reintentos=error=>{n===1?reject(error):setTimeout(()=>{intentos++,fetch_retry(url2,n-1)},intentos*3e3)};return fetch(url2).then(response=>response.json()).then(result=>{result.length>=0?resolve(result):reintentos("error")}).catch(function(error){reintentos(error)})};return fetch_retry(url,5)});function sendFechaArmado(){return new Promise((resolve,reject)=>{fetch(`${Endpoint.appVendedorOrderApi}/JA/assembly-express`,{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({country:"01",codeModel:"02",date:infoUser.dateArmed.fechaArmado.replaceAll("-",""),rem:infoUser.nro_op,agency:infoUser.agr,tecnico:infoUser.dateArmed.Tecnico,codRecurso:infoUser.dateArmed.CodRecurso,unitType:infoUser.dateArmed.jornada}),redirect:"follow"}).then(response=>response.json()).then(result=>resolve(result)).catch(error=>reject(error))})}function backForm(){$(".js-steps10check").removeClass("display-none"),$(".js-steps11check").addClass("display-none")}function backGestion(){$("#formStepOne").removeClass("d-none"),$("#formStepTwo").addClass("d-none"),window.location.hash="#formStepOne"}function whatsappAPi(visor){isRunning(()=>{var primerNombre=objUserDataCheck.first_name||infoUser.primer_nombre,segundoNombre=objUserDataCheck.middle_name||infoUser.segundo_nombre,primerApellido=objUserDataCheck.first_last_name||infoUser.primer_apellido,segundoApellido=objUserDataCheck.second_last_name||infoUser.segundo_apellido,myHeaders=new Headers;myHeaders.append("Content-Type","application/json"),myHeaders.append("Authorization","Bearer 225839ba-0263-8091-b7e7-6dfb3eda754a");var raw=JSON.stringify({name:`${primerNombre?.toUpperCase()+" "+segundoNombre?.toUpperCase()+" "+primerApellido?.toUpperCase()+" "+segundoApellido?.toUpperCase()}`,phone:`57${objUserDataCheck.cellphone}`,email:objUserDataCheck.email,optionals:{cedula:infoUser.n_ide,cupo:`${infoUser.cupo}`,tipo_documento:objUserDataCheck.document_type,origen:"Ecommerce",ruta:"sinruta"},tags:[visor.salida?visor.salida:"SIN SALIDA"]}),requestOptions={method:"POST",headers:myHeaders,body:raw,redirect:"follow"};console.log(typeof raw),fetch("https://us-central1-atomchat-io.cloudfunctions.net/clients",requestOptions).then(response=>response.text()).then(result=>console.log(result)).catch(error=>console.log("error",error))},!1,"\xA1La funcion de whatsappAPi, esta deshabilitada!")}function confirmarDatos(){(infoUser.valida_cedula=="S"||infoUser.valida_tipodoc=="S")&&($(".js-steps_error_visor").addClass("display-none"),$(".js-steps1check").removeClass("display-none"),$(".js-steps1check").css("display","")),infoUser.valida_apellido=="S"&&($(".js-steps_error_visor").addClass("display-none"),$(".js-steps2check").removeClass("display-none"),$("#formStepOne").removeClass("d-none"))}document.getElementById("btn-terminos")?.addEventListener("click",()=>{$("#terminos").prop("checked",!0)}),document.getElementById("btn-tratamiento-datos")?.addEventListener("click",()=>{$("#tratamientoDatos").prop("checked",!0)}),document.getElementById("btn-centrales-riesgo")?.addEventListener("click",()=>{$("#centralesRiesgo").prop("checked",!0)}),document.getElementById("btn-firma-electronica")?.addEventListener("click",()=>{$("#firmaElectronica").prop("checked",!0)}),$("#nroCuotas").change(async()=>{const cuota=$("#nroCuotas").val();theme.CartCreditoUpdate.getItemsCartCreditoUpdate(cuota),window.location.hash="#list-producto-credits"});function getPhone(number){return new Promise((resolve,reject)=>{fetch(`https://qeq9nm5wbe.execute-api.us-east-1.amazonaws.com/phone/${number}`,{method:"GET",redirect:"follow"}).then(response=>response.json()).then(result=>resolve(result)).catch(error=>reject(error))})}function isRunning(params,active,messageDisabled){if(active)return params}
//# sourceMappingURL=/cdn/shop/t/577/assets/automatizations.js.map?v=11288484058604832871722974575
